(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Hd={exports:{}},Dl={};var W_;function Zb(){if(W_)return Dl;W_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var ev;function Jb(){return ev||(ev=1,Hd.exports=Zb()),Hd.exports}var S=Jb(),Fd={exports:{}},Ie={};var tv;function Wb(){if(tv)return Ie;tv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,ne={};function pe(V,K,ae){this.props=V,this.context=K,this.refs=ne,this.updater=ae||W}pe.prototype.isReactComponent={},pe.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},pe.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function we(){}we.prototype=pe.prototype;function ve(V,K,ae){this.props=V,this.context=K,this.refs=ne,this.updater=ae||W}var Qe=ve.prototype=new we;Qe.constructor=ve,oe(Qe,pe.prototype),Qe.isPureReactComponent=!0;var tt=Array.isArray;function Ne(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,K,ae){var ue=ae.ref;return{$$typeof:s,type:V,key:K,ref:ue!==void 0?ue:null,props:ae}}function k(V,K){return C(V.type,K,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return K[ae]})}var R=/\/+/g;function rt(V,K){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):K.toString(36)}function Et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ne,Ne):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,K,ae,ue,Se){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case s:case e:Ue=!0;break;case b:return Ue=V._init,F(Ue(V._payload),K,ae,ue,Se)}}if(Ue)return Se=Se(V),Ue=ue===""?"."+rt(V,0):ue,tt(Se)?(ae="",Ue!=null&&(ae=Ue.replace(R,"$&/")+"/"),F(Se,K,ae,"",function(_i){return _i})):Se!=null&&(M(Se)&&(Se=k(Se,ae+(Se.key==null||V&&V.key===Se.key?"":(""+Se.key).replace(R,"$&/")+"/")+Ue)),K.push(Se)),1;Ue=0;var mt=ue===""?".":ue+":";if(tt(V))for(var ct=0;ct<V.length;ct++)ue=V[ct],Re=mt+rt(ue,ct),Ue+=F(ue,K,ae,Re,Se);else if(ct=G(V),typeof ct=="function")for(V=ct.call(V),ct=0;!(ue=V.next()).done;)ue=ue.value,Re=mt+rt(ue,ct++),Ue+=F(ue,K,ae,Re,Se);else if(Re==="object"){if(typeof V.then=="function")return F(Et(V),K,ae,ue,Se);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ee(V,K,ae){if(V==null)return V;var ue=[],Se=0;return F(V,ue,"","",function(Re){return K.call(ae,Re,Se++)}),ue}function de(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:ee,forEach:function(V,K,ae){ee(V,function(){K.apply(this,arguments)},ae)},count:function(V){var K=0;return ee(V,function(){K++}),K},toArray:function(V){return ee(V,function(K){return K})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=A,Ie.Children=Ye,Ie.Component=pe,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=ve,Ie.StrictMode=r,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,K,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=oe({},V.props),Se=V.key;if(K!=null)for(Re in K.key!==void 0&&(Se=""+K.key),K)!w.call(K,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&K.ref===void 0||(ue[Re]=K[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Ue=Array(Re),mt=0;mt<Re;mt++)Ue[mt]=arguments[mt+2];ue.children=Ue}return C(V.type,Se,ue)},Ie.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ie.createElement=function(V,K,ae){var ue,Se={},Re=null;if(K!=null)for(ue in K.key!==void 0&&(Re=""+K.key),K)w.call(K,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Se[ue]=K[ue]);var Ue=arguments.length-2;if(Ue===1)Se.children=ae;else if(1<Ue){for(var mt=Array(Ue),ct=0;ct<Ue;ct++)mt[ct]=arguments[ct+2];Se.children=mt}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)Se[ue]===void 0&&(Se[ue]=Ue[ue]);return C(V,Re,Se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:p,render:V}},Ie.isValidElement=M,Ie.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:de}},Ie.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},Ie.startTransition=function(V){var K=N.T,ae={};N.T=ae;try{var ue=V(),Se=N.S;Se!==null&&Se(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ne,Le)}catch(Re){Le(Re)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),N.T=K}},Ie.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ie.use=function(V){return N.H.use(V)},Ie.useActionState=function(V,K,ae){return N.H.useActionState(V,K,ae)},Ie.useCallback=function(V,K){return N.H.useCallback(V,K)},Ie.useContext=function(V){return N.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,K){return N.H.useDeferredValue(V,K)},Ie.useEffect=function(V,K){return N.H.useEffect(V,K)},Ie.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ie.useId=function(){return N.H.useId()},Ie.useImperativeHandle=function(V,K,ae){return N.H.useImperativeHandle(V,K,ae)},Ie.useInsertionEffect=function(V,K){return N.H.useInsertionEffect(V,K)},Ie.useLayoutEffect=function(V,K){return N.H.useLayoutEffect(V,K)},Ie.useMemo=function(V,K){return N.H.useMemo(V,K)},Ie.useOptimistic=function(V,K){return N.H.useOptimistic(V,K)},Ie.useReducer=function(V,K,ae){return N.H.useReducer(V,K,ae)},Ie.useRef=function(V){return N.H.useRef(V)},Ie.useState=function(V){return N.H.useState(V)},Ie.useSyncExternalStore=function(V,K,ae){return N.H.useSyncExternalStore(V,K,ae)},Ie.useTransition=function(){return N.H.useTransition()},Ie.version="19.2.3",Ie}var nv;function jm(){return nv||(nv=1,Fd.exports=Wb()),Fd.exports}var Pe=jm(),Gd={exports:{}},Ol={},Qd={exports:{}},Kd={};var iv;function eS(){return iv||(iv=1,(function(s){function e(F,ee){var de=F.length;F.push(ee);e:for(;0<de;){var Le=de-1>>>1,Ye=F[Le];if(0<l(Ye,ee))F[Le]=ee,F[de]=Ye,de=Le;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ee=F[0],de=F.pop();if(de!==ee){F[0]=de;e:for(var Le=0,Ye=F.length,V=Ye>>>1;Le<V;){var K=2*(Le+1)-1,ae=F[K],ue=K+1,Se=F[ue];if(0>l(ae,de))ue<Ye&&0>l(Se,ae)?(F[Le]=Se,F[ue]=de,Le=ue):(F[Le]=ae,F[K]=de,Le=K);else if(ue<Ye&&0>l(Se,de))F[Le]=Se,F[ue]=de,Le=ue;else break e}}return ee}function l(F,ee){var de=F.sortIndex-ee.sortIndex;return de!==0?de:F.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,D=3,G=!1,W=!1,oe=!1,ne=!1,pe=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function Qe(F){for(var ee=i(_);ee!==null;){if(ee.callback===null)r(_);else if(ee.startTime<=F)r(_),ee.sortIndex=ee.expirationTime,e(y,ee);else break;ee=i(_)}}function tt(F){if(oe=!1,Qe(F),!W)if(i(y)!==null)W=!0,Ne||(Ne=!0,L());else{var ee=i(_);ee!==null&&Et(tt,ee.startTime-F)}}var Ne=!1,N=-1,w=5,C=-1;function k(){return ne?!0:!(s.unstable_now()-C<w)}function M(){if(ne=!1,Ne){var F=s.unstable_now();C=F;var ee=!0;try{e:{W=!1,oe&&(oe=!1,we(N),N=-1),G=!0;var de=D;try{t:{for(Qe(F),A=i(y);A!==null&&!(A.expirationTime>F&&k());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,D=A.priorityLevel;var Ye=Le(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ye=="function"){A.callback=Ye,Qe(F),ee=!0;break t}A===i(y)&&r(y),Qe(F)}else r(y);A=i(y)}if(A!==null)ee=!0;else{var V=i(_);V!==null&&Et(tt,V.startTime-F),ee=!1}}break e}finally{A=null,D=de,G=!1}ee=void 0}}finally{ee?L():Ne=!1}}}var L;if(typeof ve=="function")L=function(){ve(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=M,L=function(){rt.postMessage(null)}}else L=function(){pe(M,0)};function Et(F,ee){N=pe(function(){F(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(F){switch(D){case 1:case 2:case 3:var ee=3;break;default:ee=D}var de=D;D=ee;try{return F()}finally{D=de}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=D;D=F;try{return ee()}finally{D=de}},s.unstable_scheduleCallback=function(F,ee,de){var Le=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Le+de:Le):de=Le,F){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=de+Ye,F={id:b++,callback:ee,priorityLevel:F,startTime:de,expirationTime:Ye,sortIndex:-1},de>Le?(F.sortIndex=de,e(_,F),i(y)===null&&F===i(_)&&(oe?(we(N),N=-1):oe=!0,Et(tt,de-Le))):(F.sortIndex=Ye,e(y,F),W||G||(W=!0,Ne||(Ne=!0,L()))),F},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(F){var ee=D;return function(){var de=D;D=ee;try{return F.apply(this,arguments)}finally{D=de}}}})(Kd)),Kd}var sv;function tS(){return sv||(sv=1,Qd.exports=eS()),Qd.exports}var Yd={exports:{}},cn={};var rv;function nS(){if(rv)return cn;rv=1;var s=jm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},cn.flushSync=function(y){var _=d.T,b=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=b,r.d.f()}},cn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},cn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},cn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:G}):b==="script"&&r.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},cn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);r.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},cn.requestFormReset=function(y){r.d.r(y)},cn.unstable_batchedUpdates=function(y,_){return y(_)},cn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var av;function iS(){if(av)return Yd.exports;av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=nS(),Yd.exports}var ov;function sS(){if(ov)return Ol;ov=1;var s=tS(),e=jm(),i=iS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),we=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case pe:return"Profiler";case ne:return"StrictMode";case tt:return"Suspense";case Ne:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ve:return t.displayName||"Context";case we:return(t._context.displayName||"Context")+".Consumer";case Qe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var Et=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Le=[],Ye=-1;function V(t){return{current:t}}function K(t){0>Ye||(t.current=Le[Ye],Le[Ye]=null,Ye--)}function ae(t,n){Ye++,Le[Ye]=t.current,t.current=n}var ue=V(null),Se=V(null),Re=V(null),Ue=V(null);function mt(t,n){switch(ae(Re,n),ae(Se,t),ae(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b_(n),t=S_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ue),ae(ue,t)}function ct(){K(ue),K(Se),K(Re)}function _i(t){t.memoizedState!==null&&ae(Ue,t);var n=ue.current,a=S_(n,t.type);n!==a&&(ae(Se,t),ae(ue,a))}function Rs(t){Se.current===t&&(K(ue),K(Se)),Ue.current===t&&(K(Ue),Il._currentValue=de)}var vi,Ki;function Xt(t){if(vi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vi=n&&n[1]||"",Ki=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+t+Ki}var Rr=!1;function Bn(t,n){if(!t||Rr)return"";Rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){B=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Q=`
`+I[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xt(a):""}function Ir(t,n){switch(t.tag){case 26:case 27:case 5:return Xt(t.type);case 16:return Xt("Lazy");case 13:return t.child!==n&&n!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Bn(t.type,!1);case 11:return Bn(t.type.render,!1);case 1:return Bn(t.type,!0);case 31:return Xt("Activity");default:return""}}function Cr(t){try{var n="",a=null;do n+=Ir(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var At=Object.prototype.hasOwnProperty,Ct=s.unstable_scheduleCallback,Ei=s.unstable_cancelCallback,Oo=s.unstable_shouldYield,pa=s.unstable_requestPaint,en=s.unstable_now,Yi=s.unstable_getCurrentPriorityLevel,Nr=s.unstable_ImmediatePriority,xr=s.unstable_UserBlockingPriority,Ti=s.unstable_NormalPriority,Mo=s.unstable_LowPriority,ga=s.unstable_IdlePriority,ya=s.log,Xi=s.unstable_setDisableYieldValue,Nn=null,Gt=null;function yn(t){if(typeof ya=="function"&&Xi(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Nn,t)}catch{}}var Tt=Math.clz32?Math.clz32:va,_a=Math.log,Is=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(_a(t)/Is|0)|0}var qn=256,$i=262144,bt=4194304;function Hn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function x(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Hn(o):(g&=E,g!==0?h=Hn(g):a||(a=E&~t,a!==0&&(h=Hn(a))))):(E=o&~f,E!==0?h=Hn(E):g!==0?h=Hn(g):a||(a=o&~t,a!==0&&(h=Hn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Y(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function te(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function se(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ie(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function me(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _e(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-Tt(a),Z=1<<Q;E[Q]=0,I[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}o!==0&&Oe(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Oe(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Tt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Qt(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Tt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ea(t,n){var a=n&-n;return a=(a&42)!==0?1:si(a),(a&(t.suspendedLanes|n))!==0?0:a}function si(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function ri(t,n){var a=ee.p;try{return ee.p=t,n()}finally{ee.p=a}}var ai=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ai,$t="__reactProps$"+ai,bi="__reactContainer$"+ai,Ta="__reactEvents$"+ai,Yh="__reactListeners$"+ai,gu="__reactHandles$"+ai,yu="__reactResources$"+ai,Si="__reactMarker$"+ai;function ba(t){delete t[Vt],delete t[$t],delete t[Ta],delete t[Yh],delete t[gu]}function Ai(t){var n=t[Vt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[bi]||a[Vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=x_(t);t!==null;){if(a=t[Vt])return a;t=x_(t)}return n}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[Vt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function xn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function wi(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function kt(t){t[Si]=!0}var Vo=new Set,ko={};function Ri(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(ko[t]=n,t=0;t<n.length;t++)Vo.add(n[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function _u(t){return At.call(Uo,t)?!0:At.call(Lo,t)?!1:Po.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function Sa(t,n,a){if(_u(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Cs(t)?"checked":"value";t._valueTracker=jo(t,n,""+t[n])}}function Dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Cs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function _n(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Aa(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?zo(t,g,Zt(n)):a!=null?zo(t,g,Zt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function vu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nt(t)}function zo(t,n,a){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ns(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Eu(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function xs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Et(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function vn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Tu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Bo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bo(t,f,n[f])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Ho=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ni=null;function Mr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var a=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[$t]||null;if(!h)throw Error(r(90));Aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Dr(o)}break e;case"textarea":Eu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ns(t,!!a.multiple,n,!1)}}}var Ia=!1;function Ms(t,n,a){if(Ia)return t(n,a);Ia=!0;try{var o=t(n);return o}finally{if(Ia=!1,(Os!==null||Ni!==null)&&(pc(),Os&&(n=Os,t=Ni,Ni=Os=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function li(t,n){var a=t.stateNode;if(a===null)return null;var o=a[$t]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Qn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Vr=!1}var xi=null,Fo=null,kr=null;function Go(){if(kr)return kr;var t,n=Fo,a=n.length,o,h="value"in xi?xi.value:xi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return kr=h.slice(t,1<o?1-o:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function ui(){return!1}function tn(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ui,this.isPropagationStopped=ui,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=tn(Wi),Vs=A({},Wi,{view:0,detail:0}),Qo=tn(Vs),ks,Ca,Oi,Na=A({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(ks=t.screenX-Oi.screenX,Ca=t.screenY-Oi.screenY):Ca=ks=0,Oi=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Ko=tn(Na),Lr=A({},Na,{dataTransfer:0}),Su=tn(Lr),Au=A({},Vs,{relatedTarget:0}),Ur=tn(Au),Yo=A({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=tn(Yo),xa=A({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=tn(xa),Iu=A({},Wi,{data:0}),Mi=tn(Iu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xu[t])?!!n[t]:!1}function Ps(){return Du}var pn=A({},Vs,{key:function(t){if(t.key){var n=Cu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=tn(pn),Mu=A({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=tn(Mu),u=A({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=tn(u),v=A({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(v),U=A({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=tn(U),re=A({},Wi,{newState:0,oldState:0}),xe=tn(re),Nt=[9,13,27,32],Ze=Qn&&"CompositionEvent"in window,_t=null;Qn&&"documentMode"in document&&(_t=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!_t,Vi=Qn&&(!Ze||_t&&8<_t&&11>=_t),ci=" ",hi=!1;function jr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function T1(t,n){switch(t){case"compositionend":return Da(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function b1(t,n){if(Oa)return t==="compositionend"||!Ze&&jr(t,n)?(t=Go(),kr=Fo=xi=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var S1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!S1[t.type]:n==="textarea"}function Vp(t,n,a,o){Os?Ni?Ni.push(o):Ni=[o]:Os=o,n=bc(n,"onChange"),0<n.length&&(a=new Di("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Xo=null,$o=null;function A1(t){g_(t,0)}function Vu(t){var n=xn(t);if(Dr(n))return t}function kp(t,n){if(t==="change")return n}var Pp=!1;if(Qn){var Xh;if(Qn){var $h="oninput"in document;if(!$h){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),$h=typeof Lp.oninput=="function"}Xh=$h}else Xh=!1;Pp=Xh&&(!document.documentMode||9<document.documentMode)}function Up(){Xo&&(Xo.detachEvent("onpropertychange",jp),$o=Xo=null)}function jp(t){if(t.propertyName==="value"&&Vu($o)){var n=[];Vp(n,$o,t,Gn(t)),Ms(A1,n)}}function w1(t,n,a){t==="focusin"?(Up(),Xo=n,$o=a,Xo.attachEvent("onpropertychange",jp)):t==="focusout"&&Up()}function R1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu($o)}function I1(t,n){if(t==="click")return Vu(n)}function C1(t,n){if(t==="input"||t==="change")return Vu(n)}function N1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:N1;function Zo(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!At.call(n,h)||!On(t[h],n[h]))return!1}return!0}function zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,n){var a=zp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zp(a)}}function qp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ci(t.document)}return n}function Zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var x1=Qn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Jh=null,Jo=null,Wh=!1;function Fp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||Ma==null||Ma!==Ci(o)||(o=Ma,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=bc(Jh,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ma)))}function zr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Va={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},ef={},Gp={};Qn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Br(t){if(ef[t])return ef[t];if(!Va[t])return t;var n=Va[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Gp)return ef[t]=n[a];return t}var Qp=Br("animationend"),Kp=Br("animationiteration"),Yp=Br("animationstart"),D1=Br("transitionrun"),O1=Br("transitionstart"),M1=Br("transitioncancel"),Xp=Br("transitionend"),$p=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function fi(t,n){$p.set(t,n),Ri(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],ka=0,nf=0;function Pu(){for(var t=ka,n=nf=ka=0;n<t;){var a=Yn[n];Yn[n++]=null;var o=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function Lu(t,n,a,o){Yn[ka++]=t,Yn[ka++]=n,Yn[ka++]=a,Yn[ka++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sf(t,n,a,o){return Lu(t,n,a,o),Uu(t)}function qr(t,n){return Lu(t,null,null,n),Uu(t)}function Zp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Tt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Uu(t){if(50<El)throw El=0,dd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={};function V1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,a,o){return new V1(t,n,a,o)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var a=t.alternate;return a===null?(a=Mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")rf(t)&&(g=1);else if(typeof t=="string")g=jb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Mn(31,a,n,h),t.elementType=C,t.lanes=f,t;case oe:return Hr(a.children,h,f,n);case ne:g=8,h|=24;break;case pe:return t=Mn(12,a,n,h|2),t.elementType=pe,t.lanes=f,t;case tt:return t=Mn(13,a,n,h),t.elementType=tt,t.lanes=f,t;case Ne:return t=Mn(19,a,n,h),t.elementType=Ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:g=10;break e;case we:g=9;break e;case Qe:g=11;break e;case N:g=14;break e;case w:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Mn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Hr(t,n,a,o){return t=Mn(7,t,o,n),t.lanes=a,t}function af(t,n,a){return t=Mn(6,t,null,n),t.lanes=a,t}function Wp(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function of(t,n,a){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var eg=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var a=eg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Cr(n)},eg.set(t,n),n)}return{value:t,source:n,stack:Cr(n)}}var La=[],Ua=0,zu=null,Wo=0,$n=[],Zn=0,Ls=null,ki=1,Pi="";function ns(t,n){La[Ua++]=Wo,La[Ua++]=zu,zu=t,Wo=n}function tg(t,n,a){$n[Zn++]=ki,$n[Zn++]=Pi,$n[Zn++]=Ls,Ls=t;var o=ki;t=Pi;var h=32-Tt(o)-1;o&=~(1<<h),a+=1;var f=32-Tt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,ki=1<<32-Tt(n)+h|a<<h|o,Pi=f+t}else ki=1<<f|a<<h|o,Pi=t}function lf(t){t.return!==null&&(ns(t,1),tg(t,1,0))}function uf(t){for(;t===zu;)zu=La[--Ua],La[Ua]=null,Wo=La[--Ua],La[Ua]=null;for(;t===Ls;)Ls=$n[--Zn],$n[Zn]=null,Pi=$n[--Zn],$n[Zn]=null,ki=$n[--Zn],$n[Zn]=null}function ng(t,n){$n[Zn++]=ki,$n[Zn++]=Pi,$n[Zn++]=Ls,ki=n.id,Pi=n.overflow,Ls=t}var nn=null,pt=null,Fe=!1,Us=null,Jn=!1,cf=Error(r(519));function js(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Xn(n,t)),cf}function ig(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Vt]=t,n[$t]=o,a){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(a=0;a<bl.length;a++)ke(bl[a],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),vu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),xs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||E_(n.textContent,a)?(o.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),o.onScroll!=null&&ke("scroll",n),o.onScrollEnd!=null&&ke("scrollend",n),o.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||js(t,!0)}function sg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:nn=nn.return}}function ja(t){if(t!==nn)return!1;if(!Fe)return sg(t),Fe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&pt&&js(t),sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=N_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));pt=N_(t)}else n===27?(n=pt,Ws(t.type)?(t=Md,Md=null,pt=t):pt=n):pt=nn?ei(t.stateNode.nextSibling):null;return!0}function Fr(){pt=nn=null,Fe=!1}function hf(){var t=Us;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Us=null),t}function el(t){Us===null?Us=[t]:Us.push(t)}var ff=V(null),Gr=null,is=null;function zs(t,n,a){ae(ff,n._currentValue),n._currentValue=a}function ss(t){t._currentValue=ff.current,K(ff)}function df(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function mf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),df(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),df(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function za(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;On(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&mf(n,t,a,o),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Gr=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return rg(Gr,t)}function qu(t,n){return Gr===null&&Qr(t),rg(t,n)}function rg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(t===null)throw Error(r(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return a}var k1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},P1=s.unstable_scheduleCallback,L1=s.unstable_NormalPriority,Lt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new k1,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&P1(L1,function(){t.controller.abort()})}var nl=null,gf=0,Ba=0,qa=null;function U1(t,n){if(nl===null){var a=nl=[];gf=0,Ba=vd(),qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return gf++,n.then(ag,ag),n}function ag(){if(--gf===0&&nl!==null){qa!==null&&(qa.status="fulfilled");var t=nl;nl=null,Ba=0,qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function j1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var og=F.S;F.S=function(t,n){Fy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U1(t,n),og!==null&&og(t,n)};var Kr=V(null);function yf(){var t=Kr.current;return t!==null?t:ht.pooledCache}function Hu(t,n){n===null?ae(Kr,Kr.current):ae(Kr,n.pool)}function lg(){var t=yf();return t===null?null:{parent:Lt._currentValue,pool:t}}var Ha=Error(r(460)),_f=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(oi,oi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t}throw Xr=n,Ha}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,Ha):a}}var Xr=null;function hg(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function fg(t){if(t===Ha||t===Fu)throw Error(r(483))}var Fa=null,il=0;function Qu(t){var n=il;return il+=1,Fa===null&&(Fa=[]),cg(Fa,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){function n(P,O){if(t){var j=P.deletions;j===null?(P.deletions=[O],P.flags|=16):j.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=ts(P,O),P.index=0,P.sibling=null,P}function f(P,O,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<O?(P.flags|=67108866,O):j):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function g(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,j,X){return O===null||O.tag!==6?(O=af(j,P.mode,X),O.return=P,O):(O=h(O,j),O.return=P,O)}function I(P,O,j,X){var ge=j.type;return ge===oe?Q(P,O,j.props.children,X,j.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Yr(ge)===O.type)?(O=h(O,j.props),sl(O,j),O.return=P,O):(O=ju(j.type,j.key,j.props,null,P.mode,X),sl(O,j),O.return=P,O)}function z(P,O,j,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=of(j,P.mode,X),O.return=P,O):(O=h(O,j.children||[]),O.return=P,O)}function Q(P,O,j,X,ge){return O===null||O.tag!==7?(O=Hr(j,P.mode,X,ge),O.return=P,O):(O=h(O,j),O.return=P,O)}function Z(P,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=af(""+O,P.mode,j),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return j=ju(O.type,O.key,O.props,null,P.mode,j),sl(j,O),j.return=P,j;case W:return O=of(O,P.mode,j),O.return=P,O;case w:return O=Yr(O),Z(P,O,j)}if(Et(O)||L(O))return O=Hr(O,P.mode,j,null),O.return=P,O;if(typeof O.then=="function")return Z(P,Qu(O),j);if(O.$$typeof===ve)return Z(P,qu(P,O),j);Ku(P,O)}return null}function B(P,O,j,X){var ge=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:E(P,O,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===ge?I(P,O,j,X):null;case W:return j.key===ge?z(P,O,j,X):null;case w:return j=Yr(j),B(P,O,j,X)}if(Et(j)||L(j))return ge!==null?null:Q(P,O,j,X,null);if(typeof j.then=="function")return B(P,O,Qu(j),X);if(j.$$typeof===ve)return B(P,O,qu(P,j),X);Ku(P,j)}return null}function H(P,O,j,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(j)||null,E(O,P,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return P=P.get(X.key===null?j:X.key)||null,I(O,P,X,ge);case W:return P=P.get(X.key===null?j:X.key)||null,z(O,P,X,ge);case w:return X=Yr(X),H(P,O,j,X,ge)}if(Et(X)||L(X))return P=P.get(j)||null,Q(O,P,X,ge,null);if(typeof X.then=="function")return H(P,O,j,Qu(X),ge);if(X.$$typeof===ve)return H(P,O,j,qu(O,X),ge);Ku(O,X)}return null}function he(P,O,j,X){for(var ge=null,Xe=null,fe=O,Me=O=0,ze=null;fe!==null&&Me<j.length;Me++){fe.index>Me?(ze=fe,fe=null):ze=fe.sibling;var $e=B(P,fe,j[Me],X);if($e===null){fe===null&&(fe=ze);break}t&&fe&&$e.alternate===null&&n(P,fe),O=f($e,O,Me),Xe===null?ge=$e:Xe.sibling=$e,Xe=$e,fe=ze}if(Me===j.length)return a(P,fe),Fe&&ns(P,Me),ge;if(fe===null){for(;Me<j.length;Me++)fe=Z(P,j[Me],X),fe!==null&&(O=f(fe,O,Me),Xe===null?ge=fe:Xe.sibling=fe,Xe=fe);return Fe&&ns(P,Me),ge}for(fe=o(fe);Me<j.length;Me++)ze=H(fe,P,Me,j[Me],X),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?Me:ze.key),O=f(ze,O,Me),Xe===null?ge=ze:Xe.sibling=ze,Xe=ze);return t&&fe.forEach(function(sr){return n(P,sr)}),Fe&&ns(P,Me),ge}function Ee(P,O,j,X){if(j==null)throw Error(r(151));for(var ge=null,Xe=null,fe=O,Me=O=0,ze=null,$e=j.next();fe!==null&&!$e.done;Me++,$e=j.next()){fe.index>Me?(ze=fe,fe=null):ze=fe.sibling;var sr=B(P,fe,$e.value,X);if(sr===null){fe===null&&(fe=ze);break}t&&fe&&sr.alternate===null&&n(P,fe),O=f(sr,O,Me),Xe===null?ge=sr:Xe.sibling=sr,Xe=sr,fe=ze}if($e.done)return a(P,fe),Fe&&ns(P,Me),ge;if(fe===null){for(;!$e.done;Me++,$e=j.next())$e=Z(P,$e.value,X),$e!==null&&(O=f($e,O,Me),Xe===null?ge=$e:Xe.sibling=$e,Xe=$e);return Fe&&ns(P,Me),ge}for(fe=o(fe);!$e.done;Me++,$e=j.next())$e=H(fe,P,Me,$e.value,X),$e!==null&&(t&&$e.alternate!==null&&fe.delete($e.key===null?Me:$e.key),O=f($e,O,Me),Xe===null?ge=$e:Xe.sibling=$e,Xe=$e);return t&&fe.forEach(function($b){return n(P,$b)}),Fe&&ns(P,Me),ge}function ut(P,O,j,X){if(typeof j=="object"&&j!==null&&j.type===oe&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:e:{for(var ge=j.key;O!==null;){if(O.key===ge){if(ge=j.type,ge===oe){if(O.tag===7){a(P,O.sibling),X=h(O,j.props.children),X.return=P,P=X;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Yr(ge)===O.type){a(P,O.sibling),X=h(O,j.props),sl(X,j),X.return=P,P=X;break e}a(P,O);break}else n(P,O);O=O.sibling}j.type===oe?(X=Hr(j.props.children,P.mode,X,j.key),X.return=P,P=X):(X=ju(j.type,j.key,j.props,null,P.mode,X),sl(X,j),X.return=P,P=X)}return g(P);case W:e:{for(ge=j.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(P,O.sibling),X=h(O,j.children||[]),X.return=P,P=X;break e}else{a(P,O);break}else n(P,O);O=O.sibling}X=of(j,P.mode,X),X.return=P,P=X}return g(P);case w:return j=Yr(j),ut(P,O,j,X)}if(Et(j))return he(P,O,j,X);if(L(j)){if(ge=L(j),typeof ge!="function")throw Error(r(150));return j=ge.call(j),Ee(P,O,j,X)}if(typeof j.then=="function")return ut(P,O,Qu(j),X);if(j.$$typeof===ve)return ut(P,O,qu(P,j),X);Ku(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(P,O.sibling),X=h(O,j),X.return=P,P=X):(a(P,O),X=af(j,P.mode,X),X.return=P,P=X),g(P)):a(P,O)}return function(P,O,j,X){try{il=0;var ge=ut(P,O,j,X);return Fa=null,ge}catch(fe){if(fe===Ha||fe===Fu)throw fe;var Xe=Mn(29,fe,null,P.mode);return Xe.lanes=X,Xe.return=P,Xe}}}var $r=dg(!0),mg=dg(!1),Bs=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Uu(t),Zp(t,null,a),n}return Lu(t,o,n,a),Uu(t)}function rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Qt(t,a)}}function Tf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var bf=!1;function al(){if(bf){var t=qa;if(t!==null)throw t}}function ol(t,n,a,o){bf=!1;var h=t.updateQueue;Bs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;g=0,Q=z=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(je&B)===B:(o&B)===B){B!==0&&B===Ba&&(bf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,Ee=E;B=n;var ut=a;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){Z=he.call(ut,Z,B);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,B=typeof he=="function"?he.call(ut,Z,B):he,B==null)break e;Z=A({},Z,B);break e;case 2:Bs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,I=Z):Q=Q.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ys|=g,t.lanes=g,t.memoizedState=Z}}function pg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function gg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)pg(a[t],n)}var Ga=V(null),Yu=V(0);function yg(t,n){t=ds,ae(Yu,t),ae(Ga,n),ds=t|n.baseLanes}function Sf(){ae(Yu,ds),ae(Ga,Ga.current)}function Af(){ds=Yu.current,K(Ga),K(Yu)}var Vn=V(null),Wn=null;function Fs(t){var n=t.alternate;ae(xt,xt.current&1),ae(Vn,t),Wn===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Wn=t)}function wf(t){ae(xt,xt.current),ae(Vn,t),Wn===null&&(Wn=t)}function _g(t){t.tag===22?(ae(xt,xt.current),ae(Vn,t),Wn===null&&(Wn=t)):Gs()}function Gs(){ae(xt,xt.current),ae(Vn,Vn.current)}function kn(t){K(Vn),Wn===t&&(Wn=null),K(xt)}var xt=V(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||Od(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,De=null,ot=null,Ut=null,$u=!1,Qa=!1,Zr=!1,Zu=0,ll=0,Ka=null,z1=0;function wt(){throw Error(r(321))}function Rf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!On(t[a],n[a]))return!1;return!0}function If(t,n,a,o,h,f){return rs=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?ty:qf,Zr=!1,f=a(o,h),Zr=!1,Qa&&(f=Eg(n,a,o,h)),vg(t),f}function vg(t){F.H=hl;var n=ot!==null&&ot.next!==null;if(rs=0,Ut=ot=De=null,$u=!1,ll=0,Ka=null,n)throw Error(r(300));t===null||jt||(t=t.dependencies,t!==null&&Bu(t)&&(jt=!0))}function Eg(t,n,a,o){De=t;var h=0;do{if(Qa&&(Ka=null),ll=0,Qa=!1,25<=h)throw Error(r(301));if(h+=1,Ut=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ny,f=n(a,o)}while(Qa);return f}function B1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(De.flags|=1024),n}function Cf(){var t=Zu!==0;return Zu=0,t}function Nf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xf(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}rs=0,Ut=ot=De=null,Qa=!1,ll=Zu=0,Ka=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?De.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Dt(){if(ot===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Ut===null?De.memoizedState:Ut.next;if(n!==null)Ut=n,ot=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ut===null?De.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ll;return ll+=1,Ka===null&&(Ka=[]),t=cg(Ka,t,n),n=De,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?ty:qf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===ve)return sn(t)}throw Error(r(438,String(t)))}function Df(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ju(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=k;return n.index++,a}function as(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=Dt();return Of(n,ot,t)}function Of(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(je&Z)===Z:(rs&Z)===Z){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ba&&(Q=!0);else if((rs&B)===B){z=z.next,B===Ba&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Z,g=f):I=I.next=Z,De.lanes|=B,Ys|=B;Z=z.action,Zr&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,De.lanes|=Z,Ys|=Z;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!On(f,t.memoizedState)&&(jt=!0,Q&&(a=qa,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Mf(t){var n=Dt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);On(f,n.memoizedState)||(jt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Tg(t,n,a){var o=De,h=Dt(),f=Fe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!On((ot||h).memoizedState,a);if(g&&(h.memoizedState=a,jt=!0),h=h.queue,Pf(Ag.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Ut!==null&&Ut.memoizedState.tag&1){if(o.flags|=2048,Ya(9,{destroy:void 0},Sg.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));f||(rs&127)!==0||bg(o,n,a)}return a}function bg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=Ju(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sg(t,n,a,o){n.value=a,n.getSnapshot=o,wg(n)&&Rg(t)}function Ag(t,n,a){return a(function(){wg(n)&&Rg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!On(t,a)}catch{return!0}}function Rg(t){var n=qr(t,2);n!==null&&An(n,t,2)}function Vf(t){var n=gn();if(typeof t=="function"){var a=t;if(t=a(),Zr){yn(!0);try{a()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function Ig(t,n,a,o){return t.baseState=a,Of(t,ot,typeof o=="function"?o:as)}function q1(t,n,a,o,h){if(ic(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Cg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Cg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),I=F.S;I!==null&&I(g,E),Ng(t,n,E)}catch(z){kf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),Ng(t,n,f)}catch(z){kf(t,n,z)}}function Ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){xg(t,n,o)},function(o){return kf(t,n,o)}):xg(t,n,a)}function xg(t,n,a){n.status="fulfilled",n.value=a,Dg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cg(t,a)))}function kf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Dg(n),n=n.next;while(n!==o)}t.action=null}function Dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Og(t,n){return n}function Mg(t,n){if(Fe){var a=ht.formState;if(a!==null){e:{var o=De;if(Fe){if(pt){t:{for(var h=pt,f=Jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ei(h.nextSibling),o=h.data==="F!";break e}}js(o)}o=!1}o&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},a.queue=o,a=Jg.bind(null,De,o),o.dispatch=a,o=Vf(!1),f=Bf.bind(null,De,!1,o.queue),o=gn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=q1.bind(null,De,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Vg(t){var n=Dt();return kg(n,ot,t)}function kg(t,n,a){if(n=Of(t,n,Og)[0],t=ec(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ul(n)}catch(g){throw g===Ha?Fu:g}else o=n;n=Dt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,Ya(9,{destroy:void 0},H1.bind(null,h,a),null)),[o,f,t]}function H1(t,n){t.action=n}function Pg(t){var n=Dt(),a=ot;if(a!==null)return kg(n,a,t);Dt(),n=n.memoizedState,a=Dt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ya(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=Ju(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Lg(){return Dt().memoizedState}function tc(t,n,a,o){var h=gn();De.flags|=t,h.memoizedState=Ya(1|n,{destroy:void 0},a,o===void 0?null:o)}function nc(t,n,a,o){var h=Dt();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&Rf(o,ot.memoizedState.deps)?h.memoizedState=Ya(n,f,a,o):(De.flags|=t,h.memoizedState=Ya(1|n,f,a,o))}function Ug(t,n){tc(8390656,8,t,n)}function Pf(t,n){nc(2048,8,t,n)}function F1(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=Ju(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function jg(t){var n=Dt().memoizedState;return F1({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function zg(t,n){return nc(4,2,t,n)}function Bg(t,n){return nc(4,4,t,n)}function qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hg(t,n,a){a=a!=null?a.concat([t]):null,nc(4,4,qg.bind(null,n,t),a)}function Lf(){}function Fg(t,n){var a=Dt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Gg(t,n){var a=Dt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=t(),Zr){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[o,n],o}function Uf(t,n,a){return a===void 0||(rs&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Qy(),De.lanes|=t,Ys|=t,a)}function Qg(t,n,a,o){return On(a,n)?a:Ga.current!==null?(t=Uf(t,a,o),On(t,n)||(jt=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(je&261930)===0?(jt=!0,t.memoizedState=a):(t=Qy(),De.lanes|=t,Ys|=t,n)}function Kg(t,n,a,o,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Bf(t,!1,n,a);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=j1(I,o);cl(t,n,Q,Un(t))}else cl(t,n,o,Un(t))}catch(Z){cl(t,n,{then:function(){},status:"rejected",reason:Z},Un())}finally{ee.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function G1(){}function jf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Yg(t).queue;Kg(t,h,n,de,a===null?G1:function(){return Xg(t),a(o)})}function Yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:de},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xg(t){var n=Yg(t);n.next===null&&(n=t.alternate.memoizedState),cl(t,n.next.queue,{},Un())}function zf(){return sn(Il)}function $g(){return Dt().memoizedState}function Zg(){return Dt().memoizedState}function Q1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=qs(a);var o=Hs(n,t,a);o!==null&&(An(o,n,a),rl(o,n,a)),n={cache:pf()},t.payload=n;return}n=n.return}}function K1(t,n,a){var o=Un();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?Wg(n,a):(a=sf(t,n,a,o),a!==null&&(An(a,t,o),ey(a,n,o)))}function Jg(t,n,a){var o=Un();cl(t,n,a,o)}function cl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))Wg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,On(E,g))return Lu(t,n,h,0),ht===null&&Pu(),!1}catch{}if(a=sf(t,n,h,o),a!==null)return An(a,t,o),ey(a,n,o),!0}return!1}function Bf(t,n,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(r(479))}else n=sf(t,a,o,2),n!==null&&An(n,t,2)}function ic(t){var n=t.alternate;return t===De||n!==null&&n===De}function Wg(t,n){Qa=$u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ey(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Qt(t,a)}}var hl={readContext:sn,use:Wu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};hl.useEffectEvent=wt;var ty={readContext:sn,use:Wu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Ug,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,tc(4194308,4,qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var a=gn();n=n===void 0?null:n;var o=t();if(Zr){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=gn();if(a!==void 0){var h=a(n);if(Zr){yn(!0);try{a(n)}finally{yn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=K1.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Vf(t);var n=t.queue,a=Jg.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,n){var a=gn();return Uf(a,t,n)},useTransition:function(){var t=Vf(!1);return t=Kg.bind(null,De,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=De,h=gn();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(je&127)!==0||bg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ug(Ag.bind(null,o,f,t),[t]),o.flags|=2048,Ya(9,{destroy:void 0},Sg.bind(null,o,f,a,n),null),a},useId:function(){var t=gn(),n=ht.identifierPrefix;if(Fe){var a=Pi,o=ki;a=(o&~(1<<32-Tt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Zu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=z1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:zf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Bf.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:Df,useCacheRefresh:function(){return gn().memoizedState=Q1.bind(null,De)},useEffectEvent:function(t){var n=gn(),a={impl:t};return n.memoizedState=a,function(){if((Je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:sn,use:Wu,useCallback:Fg,useContext:sn,useEffect:Pf,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:ec,useRef:Lg,useState:function(){return ec(as)},useDebugValue:Lf,useDeferredValue:function(t,n){var a=Dt();return Qg(a,ot.memoizedState,t,n)},useTransition:function(){var t=ec(as)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:zf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var a=Dt();return Ig(a,ot,t,n)},useMemoCache:Df,useCacheRefresh:Zg};qf.useEffectEvent=jg;var ny={readContext:sn,use:Wu,useCallback:Fg,useContext:sn,useEffect:Pf,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:Mf,useRef:Lg,useState:function(){return Mf(as)},useDebugValue:Lf,useDeferredValue:function(t,n){var a=Dt();return ot===null?Uf(a,t,n):Qg(a,ot.memoizedState,t,n)},useTransition:function(){var t=Mf(as)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:zf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var a=Dt();return ot!==null?Ig(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Zg};ny.useEffectEvent=jg;function Hf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ff={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Un(),h=qs(o);h.payload=n,a!=null&&(h.callback=a),n=Hs(t,h,o),n!==null&&(An(n,t,o),rl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Un(),h=qs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Hs(t,h,o),n!==null&&(An(n,t,o),rl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),o=qs(a);o.tag=2,n!=null&&(o.callback=n),n=Hs(t,o,a),n!==null&&(An(n,t,a),rl(n,t,a))}};function iy(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function sy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Ff.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ry(t){ku(t)}function ay(t){console.error(t)}function oy(t){ku(t)}function sc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ly(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,n)},a}function uy(t){return t=qs(t),t.tag=3,t}function cy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ly(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ly(n,a,o),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Y1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&za(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?gc():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),gd(t,o,h)),!1;case 22:return a.flags|=65536,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),gd(t,o,h)),!1}throw Error(r(435,a.tag))}return gd(t,o,h),gc(),!1}if(Fe)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(t=Error(r(422),{cause:o}),el(Xn(t,a)))):(o!==cf&&(n=Error(r(423),{cause:o}),el(Xn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xn(o,a),h=Gf(t.stateNode,o,h),Tf(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(r(520),{cause:o});if(f=Xn(f,a),vl===null?vl=[f]:vl.push(f),Rt!==4&&(Rt=2),n===null)return!0;o=Xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Gf(a.stateNode,o,t),Tf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),jt=!1;function rn(t,n,a,o){n.child=t===null?mg(n,null,a,o):$r(n,t.child,a,o)}function hy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Qr(n),o=If(t,n,a,g,f,h),E=Cf(),t!==null&&!jt?(Nf(t,n,h),os(t,n,h)):(Fe&&E&&lf(n),n.flags|=1,rn(t,n,o,h),n.child)}function fy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dy(t,n,f,o,h)):(t=ju(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ed(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(g,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(f,o),t.ref=n.ref,t.return=n,n.child=t}function dy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(jt=!1,n.pendingProps=o=f,ed(t,h))(t.flags&131072)!==0&&(jt=!0);else return n.lanes=t.lanes,os(t,n,h)}return Kf(t,n,a,o,h)}function my(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return py(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?yg(n,f):Sf(),_g(n);else return o=n.lanes=536870912,py(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Hu(n,f.cachePool),yg(n,f),Gs(),n.memoizedState=null):(t!==null&&Hu(n,null),Sf(),Gs());return rn(t,n,h,a),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function py(t,n,a,o,h){var f=yf();return f=f===null?null:{parent:Lt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Hu(n,null),Sf(),_g(n),t!==null&&za(t,n,o,!0),n.childLanes=h,null}function rc(t,n){return n=oc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function gy(t,n,a){return $r(n,t.child,null,a),t=rc(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function X1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,fl(null,t);if(wf(n),(t=pt)?(t=C_(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,nn=n,pt=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return rc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=gy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(jt||za(t,n,a,!1),h=(a&t.childLanes)!==0,jt||h){if(o=ht,o!==null&&(g=Ea(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,qr(t,g),An(o,t,g),Qf;gc(),n=gy(t,n,a)}else t=f.treeContext,pt=ei(g.nextSibling),nn=n,Fe=!0,Us=null,Jn=!1,t!==null&&ng(n,t),n=rc(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Kf(t,n,a,o,h){return Qr(n),a=If(t,n,a,o,void 0,h),o=Cf(),t!==null&&!jt?(Nf(t,n,h),os(t,n,h)):(Fe&&o&&lf(n),n.flags|=1,rn(t,n,a,h),n.child)}function yy(t,n,a,o,h,f){return Qr(n),n.updateQueue=null,a=Eg(n,o,a,h),vg(t),o=Cf(),t!==null&&!jt?(Nf(t,n,f),os(t,n,f)):(Fe&&o&&lf(n),n.flags|=1,rn(t,n,a,f),n.child)}function _y(t,n,a,o,h){if(Qr(n),n.stateNode===null){var f=Pa,g=a.contextType;typeof g=="object"&&g!==null&&(f=sn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?sn(g):Pa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Jr(a,E);f.props=I;var z=f.context,Q=a.contextType;g=Pa,typeof Q=="object"&&Q!==null&&(g=sn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&sy(n,f,o,g),Bs=!1;var B=n.memoizedState;f.state=B,ol(n,o,f,h),al(),z=n.memoizedState,E||B!==z||Bs?(typeof Z=="function"&&(Hf(n,a,Z,o),z=n.memoizedState),(I=Bs||iy(n,a,I,o,B,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(t,n),g=n.memoizedProps,Q=Jr(a,g),f.props=Q,Z=n.pendingProps,B=f.context,z=a.contextType,I=Pa,typeof z=="object"&&z!==null&&(I=sn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||B!==I)&&sy(n,f,o,I),Bs=!1,B=n.memoizedState,f.state=B,ol(n,o,f,h),al();var H=n.memoizedState;g!==Z||B!==H||Bs||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(Hf(n,a,E,o),H=n.memoizedState),(Q=Bs||iy(n,a,Q,o,B,H,I)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ac(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=$r(n,t.child,null,h),n.child=$r(n,null,a,h)):rn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=os(t,n,h),t}function vy(t,n,a,o){return Fr(),n.flags|=256,rn(t,n,a,o),n.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:lg()}}function $f(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ln),t}function Ey(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Fs(n):Gs(),(t=pt)?(t=C_(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,nn=n,pt=null)):t=null,t===null)throw js(n);return Od(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Gs(),h=n.mode,E=oc({mode:"hidden",children:E},h),o=Hr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(a),o.childLanes=$f(t,g,a),n.memoizedState=Yf,fl(null,o)):(Fs(n),Zf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Fs(n),n.flags&=-257,n=Jf(t,n,a)):n.memoizedState!==null?(Gs(),n.child=t.child,n.flags|=128,n=null):(Gs(),E=o.fallback,h=n.mode,o=oc({mode:"visible",children:o.children},h),E=Hr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,$r(n,t.child,null,a),o=n.child,o.memoizedState=Xf(a),o.childLanes=$f(t,g,a),n.memoizedState=Yf,n=fl(null,o));else if(Fs(n),Od(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,el({value:o,source:null,stack:null}),n=Jf(t,n,a)}else if(jt||za(t,n,a,!1),g=(a&t.childLanes)!==0,jt||g){if(g=ht,g!==null&&(o=Ea(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,qr(t,o),An(g,t,o),Qf;Dd(E)||gc(),n=Jf(t,n,a)}else Dd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,pt=ei(E.nextSibling),nn=n,Fe=!0,Us=null,Jn=!1,t!==null&&ng(n,t),n=Zf(n,o.children),n.flags|=4096);return n}return h?(Gs(),E=o.fallback,h=n.mode,I=t.child,z=I.sibling,o=ts(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=ts(z,E):(E=Hr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,fl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Xf(a):(h=E.cachePool,h!==null?(I=Lt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=lg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=$f(t,g,a),n.memoizedState=Yf,fl(t.child,o)):(Fs(n),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Zf(t,n){return n=oc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Jf(t,n,a){return $r(n,t.child,null,a),t=Zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),df(t.return,n,a)}function Wf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function by(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=xt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ae(xt,g),rn(t,n,o,a),o=Fe?Wo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Wf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(n,!0,a,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(za(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ts(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function $1(t,n,a){switch(n.tag){case 3:mt(n,n.stateNode.containerInfo),zs(n,Lt,t.memoizedState.cache),Fr();break;case 27:case 5:_i(n);break;case 4:mt(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(Fs(n),t=os(t,n,a),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(za(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return by(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(xt,xt.current),o)break;return null;case 22:return n.lanes=0,my(t,n,a,n.pendingProps);case 24:zs(n,Lt,t.memoizedState.cache)}return os(t,n,a)}function Sy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)jt=!0;else{if(!ed(t,a)&&(n.flags&128)===0)return jt=!1,$1(t,n,a);jt=(t.flags&131072)!==0}else jt=!1,Fe&&(n.flags&1048576)!==0&&tg(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")rf(t)?(o=Jr(t,o),n.tag=1,n=_y(null,n,t,o,a)):(n.tag=0,n=Kf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Qe){n.tag=11,n=hy(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=fy(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return Kf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Jr(o,n.pendingProps),_y(t,n,o,h,a);case 3:e:{if(mt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(t,n),ol(n,o,null,a);var g=n.memoizedState;if(o=g.cache,zs(n,Lt,o),o!==f.cache&&mf(n,[Lt],a,!0),al(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vy(t,n,o,a);break e}else if(o!==h){h=Xn(Error(r(424)),n),el(h),n=vy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=ei(t.firstChild),nn=n,Fe=!0,Us=null,Jn=!0,a=mg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fr(),o===h){n=os(t,n,a);break e}rn(t,n,o,a)}n=n.child}return n;case 26:return ac(t,n),t===null?(a=V_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Fe||(a=n.type,t=n.pendingProps,o=Sc(Re.current).createElement(a),o[Vt]=n,o[$t]=t,an(o,a,t),kt(o),n.stateNode=o):n.memoizedState=V_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return _i(n),t===null&&Fe&&(o=n.stateNode=D_(n.type,n.pendingProps,Re.current),nn=n,Jn=!0,h=pt,Ws(n.type)?(Md=h,pt=ei(o.firstChild)):pt=h),rn(t,n,n.pendingProps.children,a),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=pt)&&(o=Rb(o,n.type,n.pendingProps,Jn),o!==null?(n.stateNode=o,nn=n,pt=ei(o.firstChild),Jn=!1,h=!0):h=!1),h||js(n)),_i(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=If(t,n,B1,null,null,a),Il._currentValue=h),ac(t,n),rn(t,n,o,a),n.child;case 6:return t===null&&Fe&&((t=a=pt)&&(a=Ib(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,nn=n,pt=null,t=!0):t=!1),t||js(n)),null;case 13:return Ey(t,n,a);case 4:return mt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=$r(n,null,o,a):rn(t,n,o,a),n.child;case 11:return hy(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),rn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Qr(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,a),n.child;case 14:return fy(t,n,n.type,n.pendingProps,a);case 15:return dy(t,n,n.type,n.pendingProps,a);case 19:return by(t,n,a);case 31:return X1(t,n,a);case 22:return my(t,n,a,n.pendingProps);case 24:return Qr(n),o=sn(Lt),t===null?(h=yf(),h===null&&(h=ht,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},vf(n),zs(n,Lt,h)):((t.lanes&a)!==0&&(Ef(t,n),ol(n,null,null,a),al()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,Lt,o)):(o=f.cache,zs(n,Lt,o),o!==h.cache&&mf(n,[Lt],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ls(t){t.flags|=4}function td(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw Xr=Gu,_f}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j_(n))if($y())t.flags|=8192;else throw Xr=Gu,_f}function lc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?se():536870912,t.lanes|=n,Ja|=n)}function dl(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Z1(t,n,a){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ss(Lt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ls(n),f!==null?(gt(n),Ay(n,f)):(gt(n),td(n,h,null,o,a))):f?f!==t.memoizedState?(ls(n),gt(n),Ay(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),gt(n),td(n,h,t,o,a)),null;case 27:if(Rs(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}t=ue.current,ja(n)?ig(n):(t=D_(h,o,a),n.stateNode=t,ls(n))}return gt(n),null;case 5:if(Rs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return gt(n),null}if(f=ue.current,ja(n))ig(n);else{var g=Sc(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Vt]=n,f[$t]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return gt(n),td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Re.current,ja(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Vt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||js(n,!0)}else t=Sc(t).createTextNode(o),t[Vt]=n,n.stateNode=t}return gt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ja(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Vt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else a=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Vt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),lc(n,n.updateQueue),gt(n),null);case 4:return ct(),t===null&&Sd(n.stateNode.containerInfo),gt(n),null;case 10:return ss(n.type),gt(n),null;case 19:if(K(xt),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,dl(o,!1),t=f.updateQueue,n.updateQueue=t,lc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Jp(a,t),a=a.sibling;return ae(xt,xt.current&1|2),Fe&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&en()>dc&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,lc(n,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return gt(n),null}else 2*en()-o.renderingStartTime>dc&&a!==536870912&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=xt.current,ae(xt,h?a&1|2:a&1),Fe&&ns(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return kn(n),Af(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),a=n.updateQueue,a!==null&&lc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(Kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ss(Lt),gt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function J1(t,n){switch(uf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ss(Lt),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rs(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(xt),null;case 4:return ct(),null;case 10:return ss(n.type),null;case 22:case 23:return kn(n),Af(),t!==null&&K(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ss(Lt),null;case 25:return null;default:return null}}function wy(t,n){switch(uf(n),n.tag){case 3:ss(Lt),ct();break;case 26:case 27:case 5:Rs(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:K(xt);break;case 10:ss(n.type);break;case 22:case 23:kn(n),Af(),t!==null&&K(Kr);break;case 24:ss(Lt)}}function ml(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){st(n,n.return,E)}}function Qs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(Q){st(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){st(n,n.return,Q)}}function Ry(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{gg(n,a)}catch(o){st(t,t.return,o)}}}function Iy(t,n,a){a.props=Jr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function Li(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function Cy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function nd(t,n,a){try{var o=t.stateNode;Eb(o,t.type,a,n),o[$t]=n}catch(h){st(t,t.return,h)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=oi));else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(sd(t,n,a),t=t.sibling;t!==null;)sd(t,n,a),t=t.sibling}function uc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,n,a),t=t.sibling;t!==null;)uc(t,n,a),t=t.sibling}function xy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,a),n[Vt]=t,n[$t]=a}catch(f){st(t,t.return,f)}}var us=!1,zt=!1,rd=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function W1(t,n){if(t=t.containerInfo,Rd=xc,t=Hp(t),Zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,I=-1,z=0,Q=0,Z=t,B=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||o!==0&&Z.nodeType!==3||(I=g+o),Z.nodeType===3&&(g+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===t)break t;if(B===a&&++z===h&&(E=g),B===f&&++Q===o&&(I=g),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:t,selectionRange:a},xc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=Jr(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){st(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Oy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),o&4&&ml(5,a);break;case 1:if(hs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){st(a,a.return,g)}else{var h=Jr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){st(a,a.return,g)}}o&64&&Ry(a),o&512&&pl(a,a.return);break;case 3:if(hs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{gg(t,n)}catch(g){st(a,a.return,g)}}break;case 27:n===null&&o&4&&xy(a);case 26:case 5:hs(t,a),n===null&&o&4&&Cy(a),o&512&&pl(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),o&4&&ky(t,a);break;case 13:hs(t,a),o&4&&Py(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lb.bind(null,a),Cb(t,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||zt,h=us;var f=zt;us=o,(zt=n)&&!f?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,zt=f}break;case 30:break;default:hs(t,a)}}function My(t){var n=t.alternate;n!==null&&(t.alternate=null,My(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,En=!1;function cs(t,n,a){for(a=a.child;a!==null;)Vy(t,n,a),a=a.sibling}function Vy(t,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:zt||Li(a,n),cs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Li(a,n);var o=vt,h=En;Ws(a.type)&&(vt=a.stateNode,En=!1),cs(t,n,a),Al(a.stateNode),vt=o,En=h;break;case 5:zt||Li(a,n);case 6:if(o=vt,h=En,vt=null,cs(t,n,a),vt=o,En=h,vt!==null)if(En)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{vt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:vt!==null&&(En?(t=vt,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):R_(vt,a.stateNode));break;case 4:o=vt,h=En,vt=a.stateNode.containerInfo,En=!0,cs(t,n,a),vt=o,En=h;break;case 0:case 11:case 14:case 15:Qs(2,a,n),zt||Qs(4,a,n),cs(t,n,a);break;case 1:zt||(Li(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Iy(a,n,o)),cs(t,n,a);break;case 21:cs(t,n,a);break;case 22:zt=(o=zt)||a.memoizedState!==null,cs(t,n,a),zt=o;break;default:cs(t,n,a)}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){st(n,n.return,a)}}}function Py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){st(n,n.return,a)}}function eb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(r(435,t.tag))}}function cc(t,n){var a=eb(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=ub.bind(null,t,o);o.then(h,h)}})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){vt=E.stateNode,En=!1;break e}break;case 5:vt=E.stateNode,En=!1;break e;case 3:case 4:vt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(vt===null)throw Error(r(160));Vy(f,g,h),vt=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ly(n,t),n=n.sibling}var di=null;function Ly(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),bn(t),o&4&&(Qs(3,t,t.return),ml(3,t),Qs(5,t,t.return));break;case 1:Tn(n,t),bn(t),o&512&&(zt||a===null||Li(a,a.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=di;if(Tn(n,t),bn(t),o&512&&(zt||a===null||Li(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[Vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,a),f[Vt]=t,kt(f),o=f;break e;case"link":var g=L_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;case"meta":if(g=L_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Vt]=t,kt(f),o=f}t.stateNode=o}else U_(h,t.type,t.stateNode);else t.stateNode=P_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?U_(h,t.type,t.stateNode):P_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),bn(t),o&512&&(zt||a===null||Li(a,a.return)),a!==null&&o&4&&nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),bn(t),o&512&&(zt||a===null||Li(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(he){st(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(Tn(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){st(t,t.return,he)}}break;case 3:if(Rc=null,h=di,di=Ac(n.containerInfo),Tn(n,t),di=h,bn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(he){st(t,t.return,he)}rd&&(rd=!1,Uy(t));break;case 4:o=di,di=Ac(t.stateNode.containerInfo),Tn(n,t),bn(t),di=o;break;case 12:Tn(n,t),bn(t);break;case 31:Tn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 13:Tn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=us,Q=zt;if(us=z||h,zt=Q||I,Tn(n,t),zt=Q,us=z,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||us||zt||Wr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Z=I.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){st(I,I.return,he)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){st(I,I.return,he)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?I_(H,!0):I_(I.stateNode,!1)}catch(he){st(I,I.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,cc(t,a))));break;case 19:Tn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 30:break;case 21:break;default:Tn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ny(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(t);uc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(vn(g,""),a.flags&=-33);var E=id(t);uc(t,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,z=id(t);sd(t,z,I);break;default:throw Error(r(161))}}catch(Q){st(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Oy(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Wr(n);break;case 1:Li(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Iy(n,n.return,a),Wr(n);break;case 27:Al(n.stateNode);case 26:case 5:Li(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function fs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,a),ml(4,f);break;case 1:if(fs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)pg(I[h],E)}catch(z){st(o,o.return,z)}}a&&g&64&&Ry(f),pl(f,f.return);break;case 27:xy(f);case 26:case 5:fs(h,f,a),a&&o===null&&g&4&&Cy(f),pl(f,f.return);break;case 12:fs(h,f,a);break;case 31:fs(h,f,a),a&&g&4&&ky(h,f);break;case 13:fs(h,f,a),a&&g&4&&Py(h,f);break;case 22:f.memoizedState===null&&fs(h,f,a),pl(f,f.return);break;case 30:break;default:fs(h,f,a)}n=n.sibling}}function ad(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function od(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function mi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(t,n,a,o),n=n.sibling}function jy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,o),h&2048&&ml(9,n);break;case 1:mi(t,n,a,o);break;case 3:mi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){mi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){st(n,n.return,I)}}else mi(t,n,a,o);break;case 31:mi(t,n,a,o);break;case 13:mi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,a,o):gl(t,n):f._visibility&2?mi(t,n,a,o):(f._visibility|=2,Xa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:mi(t,n,a,o),h&2048&&od(n.alternate,n);break;default:mi(t,n,a,o)}}function Xa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Xa(f,g,E,I,h),ml(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Xa(f,g,E,I,h):gl(f,g):(Q._visibility|=2,Xa(f,g,E,I,h)),h&&z&2048&&ad(g.alternate,g);break;case 24:Xa(f,g,E,I,h),h&&z&2048&&od(g.alternate,g);break;default:Xa(f,g,E,I,h)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&ad(o.alternate,o);break;case 24:gl(a,o),h&2048&&od(o.alternate,o);break;default:gl(a,o)}n=n.sibling}}var yl=8192;function $a(t,n,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)zy(t,n,a),t=t.sibling}function zy(t,n,a){switch(t.tag){case 26:$a(t,n,a),t.flags&yl&&t.memoizedState!==null&&zb(a,di,t.memoizedState,t.memoizedProps);break;case 5:$a(t,n,a);break;case 3:case 4:var o=di;di=Ac(t.stateNode.containerInfo),$a(t,n,a),di=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,$a(t,n,a),yl=o):$a(t,n,a));break;default:$a(t,n,a)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,Hy(o,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):_l(t);break;default:_l(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,Hy(o,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Hy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:Qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Jt=o;else e:for(a=t;Jt!==null;){o=Jt;var h=o.sibling,f=o.return;if(My(o),o===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var tb={getCacheForType:function(t){var n=sn(Lt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return sn(Lt).controller.signal}},nb=typeof WeakMap=="function"?WeakMap:Map,Je=0,ht=null,Ve=null,je=0,it=0,Pn=null,Ks=!1,Za=!1,ld=!1,ds=0,Rt=0,Ys=0,ea=0,ud=0,Ln=0,Ja=0,vl=null,Sn=null,cd=!1,fc=0,Fy=0,dc=1/0,mc=null,Xs=null,Kt=0,$s=null,Wa=null,ms=0,hd=0,fd=null,Gy=null,El=0,dd=null;function Un(){return(Je&2)!==0&&je!==0?je&-je:F.T!==null?vd():pu()}function Qy(){if(Ln===0)if((je&536870912)===0||Fe){var t=$i;$i<<=1,($i&3932160)===0&&($i=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function An(t,n,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Zs(t,je,Ln,!1)),me(t,a),((Je&2)===0||t!==ht)&&(t===ht&&((Je&2)===0&&(ea|=a),Rt===4&&Zs(t,je,Ln,!1)),Ui(t))}function Ky(t,n,a){if((Je&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Y(t,n),h=o?rb(t,n):pd(t,n,!0),f=o;do{if(h===0){Za&&!o&&Zs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ib(a)){h=pd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=vl;var I=E.current.memoizedState.isDehydrated;if(I&&(eo(E,g).flags|=256),g=pd(E,g,!1),g!==2){if(ld&&!I){E.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){eo(t,0),Zs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,Ln,!Ks);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=fc+300-en(),10<h)){if(Zs(o,n,Ln,!Ks),x(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=A_(Yy.bind(null,o,a,Sn,mc,cd,n,Ln,ea,Ja,Ks,f,"Throttled",-0,0),h);break e}Yy(o,a,Sn,mc,cd,n,Ln,ea,Ja,Ks,f,null,-0,0)}}break}while(!0);Ui(t)}function Yy(t,n,a,o,h,f,g,E,I,z,Q,Z,B,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},zy(n,f,Z);var he=(f&62914560)===f?fc-en():(f&4194048)===f?Fy-en():0;if(he=Bb(Z,he),he!==null){ms=f,t.cancelPendingCommit=he(n_.bind(null,t,n,f,a,o,h,g,E,I,Q,Z,null,B,H)),Zs(t,f,g,!z);return}}n_(t,n,f,a,o,h,g,E,I)}function ib(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,a,o){n&=~ud,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Tt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Oe(t,a,n)}function pc(){return(Je&6)===0?(Tl(0),!1):!0}function md(){if(Ve!==null){if(it===0)var t=Ve.return;else t=Ve,is=Gr=null,xf(t),Fa=null,il=0,t=Ve;for(;t!==null;)wy(t.alternate,t),t=t.return;Ve=null}}function eo(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Sb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,md(),ht=t,Ve=a=ts(t.current,null),je=n,it=0,Pn=null,Ks=!1,Za=Y(t,n),ld=!1,Ja=Ln=ud=ea=Ys=Rt=0,Sn=vl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Tt(o),f=1<<h;n|=t[h],o&=~f}return ds=n,Pu(),a}function Xy(t,n){De=null,F.H=hl,n===Ha||n===Fu?(n=hg(),it=3):n===_f?(n=hg(),it=4):it=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,Ve===null&&(Rt=1,sc(t,Xn(n,t.current)))}function $y(){var t=Vn.current;return t===null?!0:(je&4194048)===je?Wn===null:(je&62914560)===je||(je&536870912)!==0?t===Wn:!1}function Zy(){var t=F.H;return F.H=hl,t===null?hl:t}function Jy(){var t=F.A;return F.A=tb,t}function gc(){Rt=4,Ks||(je&4194048)!==je&&Vn.current!==null||(Za=!0),(Ys&134217727)===0&&(ea&134217727)===0||ht===null||Zs(ht,je,Ln,!1)}function pd(t,n,a){var o=Je;Je|=2;var h=Zy(),f=Jy();(ht!==t||je!==n)&&(mc=null,eo(t,n)),n=!1;var g=Rt;e:do try{if(it!==0&&Ve!==null){var E=Ve,I=Pn;switch(it){case 8:md(),g=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=it;if(it=0,Pn=null,to(t,E,I,z),a&&Za){g=0;break e}break;default:z=it,it=0,Pn=null,to(t,E,I,z)}}sb(),g=Rt;break}catch(Q){Xy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,is=Gr=null,Je=o,F.H=h,F.A=f,Ve===null&&(ht=null,je=0,Pu()),g}function sb(){for(;Ve!==null;)Wy(Ve)}function rb(t,n){var a=Je;Je|=2;var o=Zy(),h=Jy();ht!==t||je!==n?(mc=null,dc=en()+500,eo(t,n)):Za=Y(t,n);e:do try{if(it!==0&&Ve!==null){n=Ve;var f=Pn;t:switch(it){case 1:it=0,Pn=null,to(t,n,f,1);break;case 2:case 9:if(ug(f)){it=0,Pn=null,e_(n);break}n=function(){it!==2&&it!==9||ht!==t||(it=7),Ui(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ug(f)?(it=0,Pn=null,e_(n)):(it=0,Pn=null,to(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var E=Ve;if(g?j_(g):E.stateNode.complete){it=0,Pn=null;var I=E.sibling;if(I!==null)Ve=I;else{var z=E.return;z!==null?(Ve=z,yc(z)):Ve=null}break t}}it=0,Pn=null,to(t,n,f,5);break;case 6:it=0,Pn=null,to(t,n,f,6);break;case 8:md(),Rt=6;break e;default:throw Error(r(462))}}ab();break}catch(Q){Xy(t,Q)}while(!0);return is=Gr=null,F.H=o,F.A=h,Je=a,Ve!==null?0:(ht=null,je=0,Pu(),Rt)}function ab(){for(;Ve!==null&&!Oo();)Wy(Ve)}function Wy(t){var n=Sy(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?yc(t):Ve=n}function e_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=yy(a,n,n.pendingProps,n.type,void 0,je);break;case 11:n=yy(a,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:xf(n);default:wy(a,n),n=Ve=Jp(n,ds),n=Sy(a,n,ds)}t.memoizedProps=t.pendingProps,n===null?yc(t):Ve=n}function to(t,n,a,o){is=Gr=null,xf(n),Fa=null,il=0;var h=n.return;try{if(Y1(t,h,n,a,je)){Rt=1,sc(t,Xn(a,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;Rt=1,sc(t,Xn(a,t.current)),Ve=null;return}n.flags&32768?(Fe||o===1?t=!0:Za||(je&536870912)!==0?t=!1:(Ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){t_(n,Ks);return}t=n.return;var a=Z1(n.alternate,n,ds);if(a!==null){Ve=a;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Rt===0&&(Rt=5)}function t_(t,n){do{var a=J1(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);Rt=6,Ve=null}function n_(t,n,a,o,h,f,g,E,I){t.cancelPendingCommit=null;do _c();while(Kt!==0);if((Je&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=nf,_e(t,a,f,g,E,I),t===ht&&(Ve=ht=null,je=0),Wa=n,$s=t,ms=a,hd=f,fd=h,Gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cb(Ti,function(){return o_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ee.p,ee.p=2,g=Je,Je|=4;try{W1(t,n,a)}finally{Je=g,ee.p=h,F.T=o}}Kt=1,i_(),s_(),r_()}}function i_(){if(Kt===1){Kt=0;var t=$s,n=Wa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ee.p;ee.p=2;var h=Je;Je|=4;try{Ly(n,t);var f=Id,g=Hp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&qp(E.ownerDocument.documentElement,E)){if(I!==null&&Zh(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=E.textContent.length,Ee=Math.min(I.start,he),ut=I.end===void 0?Ee:Math.min(I.end,he);!H.extend&&Ee>ut&&(g=ut,ut=Ee,Ee=g);var P=Bp(E,Ee),O=Bp(E,ut);if(P&&O&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=Z.createRange();j.setStart(P.node,P.offset),H.removeAllRanges(),Ee>ut?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}xc=!!Rd,Id=Rd=null}finally{Je=h,ee.p=o,F.T=a}}t.current=n,Kt=2}}function s_(){if(Kt===2){Kt=0;var t=$s,n=Wa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ee.p;ee.p=2;var h=Je;Je|=4;try{Oy(t,n.alternate,n)}finally{Je=h,ee.p=o,F.T=a}}Kt=3}}function r_(){if(Kt===4||Kt===3){Kt=0,pa();var t=$s,n=Wa,a=ms,o=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Wa=$s=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xs=null),Zi(a),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Nn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ee.p,ee.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,ee.p=h}}(ms&3)!==0&&_c(),Ui(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===dd?El++:(El=0,dd=t):El=0,Tl(0)}}function a_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function _c(){return i_(),s_(),r_(),o_()}function o_(){if(Kt!==5)return!1;var t=$s,n=hd;hd=0;var a=Zi(ms),o=F.T,h=ee.p;try{ee.p=32>a?32:a,F.T=null,a=fd,fd=null;var f=$s,g=ms;if(Kt=0,Wa=$s=null,ms=0,(Je&6)!==0)throw Error(r(331));var E=Je;if(Je|=4,qy(f.current),jy(f,f.current,g,a),Je=E,Tl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Nn,f)}catch{}return!0}finally{ee.p=h,F.T=o,a_(t,n)}}function l_(t,n,a){n=Xn(a,n),n=Gf(t.stateNode,n,2),t=Hs(t,n,2),t!==null&&(me(t,2),Ui(t))}function st(t,n,a){if(t.tag===3)l_(t,t,a);else for(;n!==null;){if(n.tag===3){l_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=Xn(a,t),a=uy(2),o=Hs(n,a,2),o!==null&&(cy(a,o,n,t),me(o,2),Ui(o));break}}n=n.return}}function gd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new nb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ld=!0,h.add(a),t=ob.bind(null,t,n,a),n.then(t,t))}function ob(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(je&a)===a&&(Rt===4||Rt===3&&(je&62914560)===je&&300>en()-fc?(Je&2)===0&&eo(t,0):ud|=a,Ja===je&&(Ja=0)),Ui(t)}function u_(t,n){n===0&&(n=se()),t=qr(t,n),t!==null&&(me(t,n),Ui(t))}function lb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),u_(t,a)}function ub(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),u_(t,a)}function cb(t,n){return Ct(t,n)}var vc=null,no=null,yd=!1,Ec=!1,_d=!1,Js=0;function Ui(t){t!==no&&t.next===null&&(no===null?vc=no=t:no=no.next=t),Ec=!0,yd||(yd=!0,fb())}function Tl(t,n){if(!_d&&Ec){_d=!0;do for(var a=!1,o=vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,d_(o,f))}else f=je,f=x(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Y(o,f)||(a=!0,d_(o,f));o=o.next}while(a);_d=!1}}function hb(){c_()}function c_(){Ec=yd=!1;var t=0;Js!==0&&bb()&&(t=Js);for(var n=en(),a=null,o=vc;o!==null;){var h=o.next,f=h_(o,n);f===0?(o.next=null,a===null?vc=h:a.next=h,h===null&&(no=a)):(a=o,(t!==0||(f&3)!==0)&&(Ec=!0)),o=h}Kt!==0&&Kt!==5||Tl(t),Js!==0&&(Js=0)}function h_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Tt(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&o)!==0)&&(h[g]=te(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=ht,a=je,a=x(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Y(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Ei(o),Zi(a)){case 2:case 8:a=xr;break;case 32:a=Ti;break;case 268435456:a=ga;break;default:a=Ti}return o=f_.bind(null,t),a=Ct(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Ei(o),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_c()&&t.callbackNode!==a)return null;var o=je;return o=x(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,n),h_(t,en()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function d_(t,n){if(_c())return null;Ky(t,n,!0)}function fb(){Ab(function(){(Je&6)!==0?Ct(Nr,hb):c_()})}function vd(){if(Js===0){var t=Ba;t===0&&(t=qn,qn<<=1,(qn&261888)===0&&(qn=256)),Js=t}return Js}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function p_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function db(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=m_((h[$t]||null).action),g=o.submitter;g&&(n=(n=g[$t]||null)?m_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Js!==0){var I=g?p_(h,g):new FormData(h);jf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?p_(h,g):new FormData(h),jf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Ed=0;Ed<tf.length;Ed++){var Td=tf[Ed],mb=Td.toLowerCase(),pb=Td[0].toUpperCase()+Td.slice(1);fi(mb,"on"+pb)}fi(Qp,"onAnimationEnd"),fi(Kp,"onAnimationIteration"),fi(Yp,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(D1,"onTransitionRun"),fi(O1,"onTransitionStart"),fi(M1,"onTransitionCancel"),fi(Xp,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function g_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=I}}}}function ke(t,n){var a=n[Ta];a===void 0&&(a=n[Ta]=new Set);var o=t+"__bubble";a.has(o)||(y_(n,t,2,!1),a.add(o))}function bd(t,n,a){var o=0;n&&(o|=4),y_(a,t,o,n)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[Tc]){t[Tc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(gb.has(a)||bd(a,!1,t),bd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tc]||(n[Tc]=!0,bd("selectionchange",!1,n))}}function y_(t,n,a,o){switch(Q_(n)){case 2:var h=Fb;break;case 8:h=Gb;break;default:h=Ud}a=h.bind(null,n,a,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Ad(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ai(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Ms(function(){var z=f,Q=Gn(a),Z=[];e:{var B=$p.get(t);if(B!==void 0){var H=Di,he=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":he="focus",H=Ur;break;case"focusout":he="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Qp:case Kp:case Yp:H=wu;break;case Xp:H=T;break;case"scroll":case"scrollend":H=Qo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=es;break;case"toggle":case"beforetoggle":H=xe}var Ee=(n&4)!==0,ut=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?B!==null?B+"Capture":null:B;Ee=[];for(var O=z,j;O!==null;){var X=O;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||P===null||(X=li(O,P),X!=null&&Ee.push(Sl(O,X,j))),ut)break;O=O.return}0<Ee.length&&(B=new H(B,he,null,a,Q),Z.push({event:B,listeners:Ee}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Ho&&(he=a.relatedTarget||a.fromElement)&&(Ai(he)||he[bi]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=z,he=he?Ai(he):null,he!==null&&(ut=c(he),Ee=he.tag,he!==ut||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(H=null,he=z),H!==he)){if(Ee=Ko,X="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=es,X="onPointerLeave",P="onPointerEnter",O="pointer"),ut=H==null?B:xn(H),j=he==null?B:xn(he),B=new Ee(X,O+"leave",H,a,Q),B.target=ut,B.relatedTarget=j,X=null,Ai(Q)===z&&(Ee=new Ee(P,O+"enter",he,a,Q),Ee.target=j,Ee.relatedTarget=ut,X=Ee),ut=X,H&&he)t:{for(Ee=yb,P=H,O=he,j=0,X=P;X;X=Ee(X))j++;X=0;for(var ge=O;ge;ge=Ee(ge))X++;for(;0<j-X;)P=Ee(P),j--;for(;0<X-j;)O=Ee(O),X--;for(;j--;){if(P===O||O!==null&&P===O.alternate){Ee=P;break t}P=Ee(P),O=Ee(O)}Ee=null}else Ee=null;H!==null&&__(Z,B,H,Ee,!1),he!==null&&ut!==null&&__(Z,ut,he,Ee,!0)}}e:{if(B=z?xn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Xe=kp;else if(Mp(B))if(Pp)Xe=C1;else{Xe=R1;var fe=w1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&wa(z.elementType)&&(Xe=kp):Xe=I1;if(Xe&&(Xe=Xe(t,z))){Vp(Z,Xe,a,Q);break e}fe&&fe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&zo(B,"number",B.value)}switch(fe=z?xn(z):window,t){case"focusin":(Mp(fe)||fe.contentEditable==="true")&&(Ma=fe,Jh=z,Jo=null);break;case"focusout":Jo=Jh=Ma=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Fp(Z,a,Q);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":Fp(Z,a,Q)}var Me;if(Ze)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Oa?jr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Vi&&a.locale!=="ko"&&(Oa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Oa&&(Me=Go()):(xi=Q,Fo="value"in xi?xi.value:xi.textContent,Oa=!0)),fe=bc(z,ze),0<fe.length&&(ze=new Mi(ze,t,null,a,Q),Z.push({event:ze,listeners:fe}),Me?ze.data=Me:(Me=Da(a),Me!==null&&(ze.data=Me)))),(Me=Kn?T1(t,a):b1(t,a))&&(ze=bc(z,"onBeforeInput"),0<ze.length&&(fe=new Mi("onBeforeInput","beforeinput",null,a,Q),Z.push({event:fe,listeners:ze}),fe.data=Me)),db(Z,t,z,a,Q)}g_(Z,n)})}function Sl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=li(t,a),h!=null&&o.unshift(Sl(t,h,f)),h=li(t,n),h!=null&&o.push(Sl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function yb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=li(a,f),z!=null&&g.unshift(Sl(a,z,I))):h||(z=li(a,f),z!=null&&g.push(Sl(a,z,I)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var _b=/\r\n?/g,vb=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(_b,`
`).replace(vb,"")}function E_(t,n){return n=v_(n),v_(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,o);break;case"style":qo(t,o,f);break;case"data":if(n!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=oi);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Sa(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,Sa(t,a,o))}}function wd(t,n,a,o,h,f){switch(a){case"style":qo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?vn(t,o):(typeof o=="number"||typeof o=="bigint")&&vn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Sa(t,a,o)}}}function an(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,g,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":ke("invalid",t);var E=f=g=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:lt(t,n,o,Q,a,null)}}vu(t,f,E,I,z,g,h,!1);return;case"select":ke("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:lt(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?Ns(t,!!o,n,!1):a!=null&&Ns(t,!!o,a,!0);return;case"textarea":ke("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:lt(t,n,g,E,a,null)}xs(t,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,n,I,o,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)ke(bl[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,z,o,a,null)}return;default:if(wa(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&wd(t,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&lt(t,n,E,o,a,null))}function Eb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:o.hasOwnProperty(H)||lt(t,n,H,null,o,Z)}}for(var B in o){var H=o[B];if(Z=a[B],o.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Z&&lt(t,n,B,H,o,Z)}}Aa(t,g,E,I,z,Q,f,h);return;case"select":H=g=E=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&lt(t,n,h,f,o,I)}n=E,a=g,o=H,B!=null?Ns(t,!!a,B,!1):!!o!=!!a&&(n!=null?Ns(t,!!a,n,!0):Ns(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,g,h,o,f)}Eu(t,B,H);return;case"option":for(var he in a)B=a[he],a.hasOwnProperty(he)&&B!=null&&!o.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:lt(t,n,he,null,o,B));for(I in o)B=o[I],H=a[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":lt(t,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)B=a[Ee],a.hasOwnProperty(Ee)&&B!=null&&!o.hasOwnProperty(Ee)&&lt(t,n,Ee,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,z,B,o,H)}return;default:if(wa(n)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&wd(t,n,ut,void 0,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||wd(t,n,Q,B,o,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!o.hasOwnProperty(P)&&lt(t,n,P,null,o,B);for(Z in o)B=o[Z],H=a[Z],!o.hasOwnProperty(Z)||B===H||B==null&&H==null||lt(t,n,Z,B,o,H)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&T_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var Q=I.transferSize,Z=I.initiatorType;Q&&T_(Z)&&(I=I.responseEnd,g+=Q*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Id=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function bb(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(wb)}:A_;function wb(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function R_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ao(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);ao(n)}function I_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Rb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function Ib(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function C_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Cb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Md=null;function N_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ei(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function x_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function D_(t,n,a){switch(n=Sc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Al(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ba(t)}var ti=new Map,O_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=ee.d;ee.d={f:Nb,r:xb,D:Db,C:Ob,L:Mb,m:Vb,X:Pb,S:kb,M:Lb};function Nb(){var t=ps.f(),n=pc();return t||n}function xb(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Xg(n):ps.r(t)}var io=typeof document>"u"?null:document;function M_(t,n,a){var o=io;if(o&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),kt(n),o.head.appendChild(n)))}}function Db(t){ps.D(t),M_("dns-prefetch",t,null)}function Ob(t,n){ps.C(t,n),M_("preconnect",t,n)}function Mb(t,n,a){ps.L(t,n,a);var o=io;if(o&&t&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_n(a.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var f=h;switch(n){case"style":f=so(t);break;case"script":f=ro(t)}ti.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ti.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(f))||n==="script"&&o.querySelector(Rl(f))||(n=o.createElement("link"),an(n,"link",t),kt(n),o.head.appendChild(n)))}}function Vb(t,n){ps.m(t,n);var a=io;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ro(t)}if(!ti.has(f)&&(t=A({rel:"modulepreload",href:t},n),ti.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}o=a.createElement("link"),an(o,"link",t),kt(o),a.head.appendChild(o)}}}function kb(t,n,a){ps.S(t,n,a);var o=io;if(o&&t){var h=wi(o).hoistableStyles,f=so(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(wl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ti.get(f))&&Vd(t,a);var I=g=o.createElement("link");kt(I),an(I,"link",t),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Pb(t,n){ps.X(t,n);var a=io;if(a&&t){var o=wi(a).hoistableScripts,h=ro(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=A({src:t,async:!0},n),(n=ti.get(h))&&kd(t,n),f=a.createElement("script"),kt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Lb(t,n){ps.M(t,n);var a=io;if(a&&t){var o=wi(a).hoistableScripts,h=ro(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ti.get(h))&&kd(t,n),f=a.createElement("script"),kt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V_(t,n,a,o){var h=(h=Re.current)?Ac(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=so(a.href),a=wi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var f=wi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(wl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),f||Ub(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ro(a),a=wi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function so(t){return'href="'+_n(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Ub(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",a),kt(n),t.head.appendChild(n))}function ro(t){return'[src="'+_n(t)+'"]'}function Rl(t){return"script[async]"+t}function P_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(o)return n.instance=o,kt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),kt(o),an(o,"style",h),wc(o,a.precedence,t),n.instance=o;case"stylesheet":h=so(a.href);var f=t.querySelector(wl(h));if(f)return n.state.loading|=4,n.instance=f,kt(f),f;o=k_(a),(h=ti.get(h))&&Vd(o,h),f=(t.ownerDocument||t).createElement("link"),kt(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),an(f,"link",o),n.state.loading|=4,wc(f,a.precedence,t),n.instance=f;case"script":return f=ro(a.src),(h=t.querySelector(Rl(f)))?(n.instance=h,kt(h),h):(o=a,(h=ti.get(f))&&(o=A({},a),kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,a.precedence,t));return n.instance}function wc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Rc=null;function L_(t,n,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Si]||f[Vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function U_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function jb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=so(o.href),f=n.querySelector(wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ic.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=n.ownerDocument||n,o=k_(o),(h=ti.get(h))&&Vd(o,h),f=f.createElement("link"),kt(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),an(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ic.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Pd=0;function Bb(t,n){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Pd===0&&(Pd=62500*Tb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Pd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,n.forEach(qb,t),Cc=null,Ic.call(t))}function qb(t,n){if(!(n.state.loading&4)){var a=Cc.get(t);if(a)var o=a.get(null);else{a=new Map,Cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Ic.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:ve,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Hb(t,n,a,o,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function z_(t,n,a,o,h,f,g,E,I,z,Q,Z){return t=new Hb(t,n,a,g,I,z,Q,Z,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},vf(f),t}function B_(t){return t?(t=Pa,t):Pa}function q_(t,n,a,o,h,f){h=B_(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Hs(t,o,n),a!==null&&(An(a,t,n),rl(a,t,n))}function H_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ld(t,n){H_(t,n),(t=t.alternate)&&H_(t,n)}function F_(t){if(t.tag===13||t.tag===31){var n=qr(t,67108864);n!==null&&An(n,t,67108864),Ld(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var n=Un();n=si(n);var a=qr(t,n);a!==null&&An(a,t,n),Ld(t,n)}}var xc=!0;function Fb(t,n,a,o){var h=F.T;F.T=null;var f=ee.p;try{ee.p=2,Ud(t,n,a,o)}finally{ee.p=f,F.T=h}}function Gb(t,n,a,o){var h=F.T;F.T=null;var f=ee.p;try{ee.p=8,Ud(t,n,a,o)}finally{ee.p=f,F.T=h}}function Ud(t,n,a,o){if(xc){var h=jd(o);if(h===null)Ad(t,n,o,Dc,a),K_(t,o);else if(Kb(h,t,n,a,o))o.stopPropagation();else if(K_(t,o),n&4&&-1<Qb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Hn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-Tt(g);E.entanglements[1]|=I,g&=~I}Ui(f),(Je&6)===0&&(dc=en()+500,Tl(0))}}break;case 31:case 13:E=qr(f,2),E!==null&&An(E,f,2),pc(),Ld(f,2)}if(f=jd(o),f===null&&Ad(t,n,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,n,o,null,a)}}function jd(t){return t=Gn(t),zd(t)}var Dc=null;function zd(t){if(Dc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case Nr:return 2;case xr:return 8;case Ti:case Mo:return 32;case ga:return 268435456;default:return 32}default:return 32}}var Bd=!1,er=null,tr=null,nr=null,Cl=new Map,Nl=new Map,ir=[],Qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function xl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&F_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Kb(t,n,a,o,h){switch(n){case"focusin":return er=xl(er,t,n,a,o,h),!0;case"dragenter":return tr=xl(tr,t,n,a,o,h),!0;case"mouseover":return nr=xl(nr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,xl(Cl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,xl(Nl.get(f)||null,t,n,a,o,h)),!0}return!1}function Y_(t){var n=Ai(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ri(t.priority,function(){G_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,ri(t.priority,function(){G_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return n=Fn(a),n!==null&&F_(n),t.blockedOn=a,!1;n.shift()}return!0}function X_(t,n,a){Oc(t)&&a.delete(n)}function Yb(){Bd=!1,er!==null&&Oc(er)&&(er=null),tr!==null&&Oc(tr)&&(tr=null),nr!==null&&Oc(nr)&&(nr=null),Cl.forEach(X_),Nl.forEach(X_)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Yb)))}var Vc=null;function $_(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(zd(o||a)===null)continue;break}var f=Fn(a);f!==null&&(t.splice(n,3),n-=3,jf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ao(t){function n(I){return Mc(I,t)}er!==null&&Mc(er,t),tr!==null&&Mc(tr,t),nr!==null&&Mc(nr,t),Cl.forEach(n),Nl.forEach(n);for(var a=0;a<ir.length;a++){var o=ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[$t]||null;if(typeof f=="function")g||$_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(zd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),$_(a)}}}function Z_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}kc.prototype.render=qd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Un();q_(a,o,t,n,null,null)},kc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;q_(t.current,2,null,t,null,null),pc(),n[bi]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ir.length&&n!==0&&n<ir[a].priority;a++);ir.splice(a,0,t),a===0&&Y_(t)}};var J_=e.version;if(J_!=="19.2.3")throw Error(r(527,J_,"19.2.3"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Xb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Nn=Pc.inject(Xb),Gt=Pc}catch{}}return Ol.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=ry,f=ay,g=oy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=z_(t,1,!1,null,null,a,o,null,h,f,g,Z_),t[bi]=n.current,Sd(t),new qd(n)},Ol.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ry,g=ay,E=oy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=z_(t,1,!0,n,a??null,o,h,I,f,g,E,Z_),n.context=B_(null),a=n.current,o=Un(),o=si(o),h=qs(o),h.callback=null,Hs(a,h,o),a=o,n.current.lanes=a,me(n,a),Ui(n),t[bi]=n.current,Sd(t),new kc(n)},Ol.version="19.2.3",Ol}var lv;function rS(){if(lv)return Gd.exports;lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=sS(),Gd.exports}var aS=rS();const oS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),uv=s=>{const e=lS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Y0=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),uS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hS=Pe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>Pe.createElement("svg",{ref:y,...cS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Y0("lucide",l),...!c&&!uS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Pe.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ft=(s,e)=>{const i=Pe.forwardRef(({className:r,...l},c)=>Pe.createElement(hS,{ref:c,iconNode:e,className:Y0(`lucide-${oS(uv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=uv(s),i};const fS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dS=Ft("calendar",fS);const mS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pS=Ft("chart-column",mS);const gS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yS=Ft("chevron-left",gS);const _S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vS=Ft("circle-check",_S);const ES=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],TS=Ft("copy",ES);const bS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],SS=Ft("crown",bS);const AS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wS=Ft("dollar-sign",AS);const RS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IS=Ft("log-out",RS);const CS=[["path",{d:"M5 12h14",key:"1ays0h"}]],NS=Ft("minus",CS);const xS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DS=Ft("pen",xS);const OS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MS=Ft("plus",OS);const VS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cv=Ft("search",VS);const kS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hv=Ft("settings",kS);const PS=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],LS=Ft("swords",PS);const US=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fv=Ft("trash-2",US);const jS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zS=Ft("trophy",jS);const BS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qS=Ft("upload",BS);const HS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FS=Ft("user",HS);const GS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dv=Ft("users",GS);const QS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],KS=Ft("x",QS),YS=()=>{};var mv={};const X0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},XS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(D=64)),r.push(i[b],i[A],i[D],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(X0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):XS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new $S;const D=c<<2|p>>4;if(r.push(D),_!==64){const G=p<<4&240|_>>2;if(r.push(G),A!==64){const W=_<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZS=function(s){const e=X0(s);return $0.encodeByteArray(e,!0)},sh=function(s){return ZS(s).replace(/\./g,"")},Z0=function(s){try{return $0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WS=()=>JS().__FIREBASE_DEFAULTS__,eA=()=>{if(typeof process>"u"||typeof mv>"u")return;const s=mv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Z0(s[1]);return e&&JSON.parse(e)},wh=()=>{try{return YS()||WS()||eA()||tA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},J0=s=>wh()?.emulatorHosts?.[s],nA=s=>{const e=J0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},W0=()=>wh()?.config,eE=s=>wh()?.[`_${s}`];class iA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function wo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(s){return(await fetch(s,{credentials:"include"})).ok}function sA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const jl={};function rA(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function aA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let pv=!1;function nE(s,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||jl[s]===e||jl[s]||pv)return;jl[s]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=rA().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{pv=!0,d()},D}function b(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=aA(r),G=i("text"),W=document.getElementById(G)||document.createElement("span"),oe=i("learnmore"),ne=document.getElementById(oe)||document.createElement("a"),pe=i("preprendIcon"),we=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ve=D.element;p(ve),b(ne,oe);const Qe=_();y(we,pe),ve.append(we,W,ne,Qe),document.body.appendChild(ve)}c?(W.innerText="Preview backend disconnected.",we.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(we.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function lA(){const s=wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dA(){return!lA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mA(){try{return typeof indexedDB=="object"}catch{return!1}}function pA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const gA="FirebaseError";class ws extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=gA,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?yA(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ws(l,p,r)}}function yA(s,e){return s.replace(_A,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const _A=/\{\$([^}]+)}/g;function vA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ra(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(gv(c)&&gv(d)){if(!ra(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function gv(s){return s!==null&&typeof s=="object"}function tu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Vl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function EA(s,e){const i=new TA(s,e);return i.subscribe.bind(i)}class TA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");bA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Xd(){}function Mt(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class SA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new iA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wA(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(s){return s===ta?void 0:s}function wA(s){return s.instantiationMode==="EAGER"}class RA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new SA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const IA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},CA=Be.INFO,NA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},xA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=NA[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=CA,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const DA=(s,e)=>e.some(i=>s instanceof i);let yv,_v;function OA(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MA(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,fm=new WeakMap,sE=new WeakMap,$d=new WeakMap,Bm=new WeakMap;function VA(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&iE.set(i,s)}).catch(()=>{}),Bm.set(e,s),e}function kA(s){if(fm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});fm.set(s,e)}let dm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||sE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function PA(s){dm=s(dm)}function LA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Zd(this),e,...i);return sE.set(r,e.sort?e.sort():[e]),hr(r)}:MA().includes(s)?function(...e){return s.apply(Zd(this),e),hr(iE.get(this))}:function(...e){return hr(s.apply(Zd(this),e))}}function UA(s){return typeof s=="function"?LA(s):(s instanceof IDBTransaction&&kA(s),DA(s,OA())?new Proxy(s,dm):s)}function hr(s){if(s instanceof IDBRequest)return VA(s);if($d.has(s))return $d.get(s);const e=UA(s);return e!==s&&($d.set(s,e),Bm.set(e,s)),e}const Zd=s=>Bm.get(s);function jA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=hr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(hr(d.result),y.oldVersion,y.newVersion,hr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const zA=["get","getKey","getAll","getAllKeys","count"],BA=["put","add","delete","clear"],Jd=new Map;function vv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=BA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||zA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Jd.set(e,c),c}PA(s=>({...s,get:(e,i,r)=>vv(e,i)||s.get(e,i,r),has:(e,i)=>!!vv(e,i)||s.has(e,i)}));class qA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function HA(s){return s.getComponent()?.type==="VERSION"}const mm="@firebase/app",Ev="0.14.6";const Es=new zm("@firebase/app"),FA="@firebase/app-compat",GA="@firebase/analytics-compat",QA="@firebase/analytics",KA="@firebase/app-check-compat",YA="@firebase/app-check",XA="@firebase/auth",$A="@firebase/auth-compat",ZA="@firebase/database",JA="@firebase/data-connect",WA="@firebase/database-compat",ew="@firebase/functions",tw="@firebase/functions-compat",nw="@firebase/installations",iw="@firebase/installations-compat",sw="@firebase/messaging",rw="@firebase/messaging-compat",aw="@firebase/performance",ow="@firebase/performance-compat",lw="@firebase/remote-config",uw="@firebase/remote-config-compat",cw="@firebase/storage",hw="@firebase/storage-compat",fw="@firebase/firestore",dw="@firebase/ai",mw="@firebase/firestore-compat",pw="firebase",gw="12.6.0";const pm="[DEFAULT]",yw={[mm]:"fire-core",[FA]:"fire-core-compat",[QA]:"fire-analytics",[GA]:"fire-analytics-compat",[YA]:"fire-app-check",[KA]:"fire-app-check-compat",[XA]:"fire-auth",[$A]:"fire-auth-compat",[ZA]:"fire-rtdb",[JA]:"fire-data-connect",[WA]:"fire-rtdb-compat",[ew]:"fire-fn",[tw]:"fire-fn-compat",[nw]:"fire-iid",[iw]:"fire-iid-compat",[sw]:"fire-fcm",[rw]:"fire-fcm-compat",[aw]:"fire-perf",[ow]:"fire-perf-compat",[lw]:"fire-rc",[uw]:"fire-rc-compat",[cw]:"fire-gcs",[hw]:"fire-gcs-compat",[fw]:"fire-fst",[mw]:"fire-fst-compat",[dw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};const rh=new Map,_w=new Map,gm=new Map;function Tv(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function _o(s){const e=s.name;if(gm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,s);for(const i of rh.values())Tv(i,s);for(const i of _w.values())Tv(i,s);return!0}function qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new eu("app","Firebase",vw);class Ew{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Ro=gw;function rE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:pm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=W0()),!i)throw fr.create("no-options");const c=rh.get(l);if(c){if(ra(i,c.options)&&ra(r,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new RA(l);for(const y of gm.values())d.addComponent(y);const p=new Ew(i,r,d);return rh.set(l,p),p}function aE(s=pm){const e=rh.get(s);if(!e&&s===pm&&W0())return rE();if(!e)throw fr.create("no-app",{appName:s});return e}function dr(s,e,i){let r=yw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}_o(new aa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Tw="firebase-heartbeat-database",bw=1,Gl="firebase-heartbeat-store";let Wd=null;function oE(){return Wd||(Wd=jA(Tw,bw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function Sw(s){try{const i=(await oE()).transaction(Gl),r=await i.objectStore(Gl).get(lE(s));return await i.done,r}catch(e){if(e instanceof ws)Es.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function bv(s,e){try{const r=(await oE()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,lE(s)),await r.done}catch(i){if(i instanceof ws)Es.warn(i.message);else{const r=fr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(r.message)}}}function lE(s){return`${s.name}!${s.options.appId}`}const Aw=1024,ww=30;class Rw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ww){const l=Nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sv(),{heartbeatsToSend:i,unsentEntries:r}=Iw(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function Iw(s,e=Aw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Av(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Av(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Cw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mA()?pA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Av(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function Nw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function xw(s){_o(new aa("platform-logger",e=>new qA(e),"PRIVATE")),_o(new aa("heartbeat",e=>new Rw(e),"PRIVATE")),dr(mm,Ev,s),dr(mm,Ev,"esm2020"),dr("fire-js","")}xw("");var Dw="firebase",Ow="12.7.0";dr(Dw,Ow,"app");function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mw=uE,cE=new eu("auth","Firebase",uE());const ah=new zm("@firebase/auth");function Vw(s,...e){ah.logLevel<=Be.WARN&&ah.warn(`Auth (${Ro}): ${s}`,...e)}function Yc(s,...e){ah.logLevel<=Be.ERROR&&ah.error(`Auth (${Ro}): ${s}`,...e)}function gi(s,...e){throw Hm(s,...e)}function zi(s,...e){return Hm(s,...e)}function hE(s,e,i){const r={...Mw(),[e]:i};return new eu("auth","Firebase",r).create(e,{appName:s.name})}function _s(s){return hE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return cE.create(s,...e)}function Te(s,e,...i){if(!s)throw Hm(e,...i)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function Ts(s,e){s||gs(e)}function ym(){return typeof self<"u"&&self.location?.href||""}function kw(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function Pw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kw()||cA()||"connection"in navigator)?navigator.onLine:!0}function Lw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ts(i>e,"Short delay should be less than long delay!"),this.isMobile=oA()||hA()}get(){return Pw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(s,e){Ts(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class fE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Uw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zw=new nu(3e4,6e4);function br(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Sr(s,e,i,r,l={}){return dE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=tu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return uA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&wo(s.emulatorConfig.host)&&(_.credentials="include"),fE.fetch()(await mE(s,s.config.apiHost,i,p),_)})}async function dE(s,e,i){s._canInitEmulator=!1;const r={...Uw,...e};try{const l=new qw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Lc(s,"user-disabled",d);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw hE(s,b,_);gi(s,b)}}catch(l){if(l instanceof ws)throw l;gi(s,"network-request-failed",{message:String(l)})}}async function iu(s,e,i,r,l={}){const c=await Sr(s,e,i,r,l);return"mfaPendingCredential"in c&&gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function mE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Fm(s.config,l):`${s.config.apiScheme}://${l}`;return jw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Bw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),zw.get())})}}function Lc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=zi(s,e,r);return l.customData._tokenResponse=i,l}function Rv(s){return s!==void 0&&s.enterprise!==void 0}class Hw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Bw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fw(s,e){return Sr(s,"GET","/v2/recaptchaConfig",br(s,e))}async function Gw(s,e){return Sr(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return Sr(s,"POST","/v1/accounts:lookup",e)}function zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qw(s,e=!1){const i=Mt(s),r=await i.getIdToken(e),l=Gm(r);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:zl(em(l.auth_time)),issuedAtTime:zl(em(l.iat)),expirationTime:zl(em(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function em(s){return Number(s)*1e3}function Gm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Z0(i);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Iv(s){const e=Gm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ws&&Kw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Kw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Yw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,i=await s.getIdToken(),r=await Ql(s,oh(e,{idToken:i}));Te(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?pE(l.providerUserInfo):[],d=$w(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function Xw(s){const e=Mt(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $w(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function pE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Zw(s,e){const i=await dE(s,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await mE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&wo(s.emulatorConfig.host)&&(y.credentials="include"),fE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jw(s,e){return Sr(s,"POST","/v2/accounts:revokeToken",br(s,e))}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=Iv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Zw(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new mo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return gs("not implemented")}}function rr(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Qw(this,e)}reload(){return Xw(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Ql(this,Gw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:G,providerData:W,stsTokenManager:oe}=i;Te(A&&oe,e,"internal-error");const ne=mo.fromJSON(this.name,oe);Te(typeof A=="string",e,"internal-error"),rr(r,e.name),rr(l,e.name),Te(typeof D=="boolean",e,"internal-error"),Te(typeof G=="boolean",e,"internal-error"),rr(c,e.name),rr(d,e.name),rr(p,e.name),rr(y,e.name),rr(_,e.name),rr(b,e.name);const pe=new pi({uid:A,auth:e,email:l,emailVerified:D,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ne,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(pe.providerData=W.map(we=>({...we}))),y&&(pe._redirectEventId=y),pe}static async _fromIdTokenResponse(e,i,r=!1){const l=new mo;l.updateFromServerResponse(i);const c=new pi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?pE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new mo;p.updateFromIdToken(r);const y=new pi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const Cv=new Map;function ys(s){Ts(s instanceof Function,"Expected a class definition");let e=Cv.get(s);return e?(Ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Cv.set(s,e),e)}class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}gE.type="NONE";const Nv=gE;function Xc(s,e,i){return`firebase:${s}:${e}:${i}`}class po{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await oh(this.auth,{idToken:e}).catch(()=>{});return i?pi._fromGetAccountInfoResponse(this.auth,i,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new po(ys(Nv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ys(Nv);const d=Xc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const D=await oh(e,{idToken:b}).catch(()=>{});if(!D)break;A=await pi._fromGetAccountInfoResponse(e,D,b)}else A=pi._fromJSON(e,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new po(c,e,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new po(c,e,r))}}function xv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bE(e))return"Blackberry";if(SE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function yE(s=mn()){return/firefox\//i.test(s)}function _E(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(s=mn()){return/crios\//i.test(s)}function EE(s=mn()){return/iemobile/i.test(s)}function TE(s=mn()){return/android/i.test(s)}function bE(s=mn()){return/blackberry/i.test(s)}function SE(s=mn()){return/webos/i.test(s)}function Qm(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ww(s=mn()){return Qm(s)&&!!window.navigator?.standalone}function e2(){return fA()&&document.documentMode===10}function AE(s=mn()){return Qm(s)||TE(s)||SE(s)||bE(s)||/windows phone/i.test(s)||EE(s)}function wE(s,e=[]){let i;switch(s){case"Browser":i=xv(mn());break;case"Worker":i=`${xv(mn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${r}`}class t2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function n2(s,e={}){return Sr(s,"GET","/v2/passwordPolicy",br(s,e))}const i2=6;class s2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??i2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class r2{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new t2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await oh(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(_s(this));const i=e?Mt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n2(this),i=new s2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Vw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ha(s){return Mt(s)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=EA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a2(s){Rh=s}function RE(s){return Rh.loadJS(s)}function o2(){return Rh.recaptchaEnterpriseScript}function l2(){return Rh.gapiScript}function u2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class c2{constructor(){this.enterprise=new h2}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class h2{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const f2="recaptcha-enterprise",IE="NO_RECAPTCHA";class d2{constructor(e){this.type=f2,this.auth=ha(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Fw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Hw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;Rv(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(IE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&Rv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=o2();y.length!==0&&(y+=p),RE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Ov(s,e,i,r=!1,l=!1){const c=new d2(s);let d;if(l)d=IE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function vm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Ov(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ov(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function m2(s,e){const i=qm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ra(c,e??{}))return l;gi(l,"already-initialized")}return i.initialize({options:e})}function p2(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function g2(s,e,i){const r=ha(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=CE(e),{host:d,port:p}=y2(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ra(_,r.config.emulator)&&ra(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,wo(d)?(tE(`${c}//${d}${y}`),nE("Auth",!0)):_2()}function CE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function y2(s){const e=CE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Mv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Mv(d)}}}function Mv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function _2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Km{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function v2(s,e){return Sr(s,"POST","/v1/accounts:signUp",e)}async function E2(s,e){return iu(s,"POST","/v1/accounts:signInWithPassword",br(s,e))}async function T2(s,e){return iu(s,"POST","/v1/accounts:signInWithEmailLink",br(s,e))}async function b2(s,e){return iu(s,"POST","/v1/accounts:signInWithEmailLink",br(s,e))}class Kl extends Km{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Kl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Kl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,i,"signInWithPassword",E2);case"emailLink":return T2(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,r,"signUpPassword",v2);case"emailLink":return b2(e,{idToken:i,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function go(s,e){return iu(s,"POST","/v1/accounts:signInWithIdp",br(s,e))}const S2="http://localhost";class oa extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new oa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return go(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,go(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,go(e,i)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tu(i)}return e}}function A2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w2(s){const e=Ml(Vl(s)).link,i=e?Ml(Vl(e)).deep_link_id:null,r=Ml(Vl(s)).deep_link_id;return(r?Ml(Vl(r)).link:null)||r||i||e||s}class Ym{constructor(e){const i=Ml(Vl(e)),r=i.apiKey??null,l=i.oobCode??null,c=A2(i.mode??null);Te(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=w2(e);try{return new Ym(i)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,i){return Kl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Ym.parseLink(i);return Te(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class NE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends NE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends su{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return or.credential(i,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends su{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends su{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ur.credential(i,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function R2(s,e){return iu(s,"POST","/v1/accounts:signUp",br(s,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await pi._fromIdTokenResponse(e,r,l),d=Vv(r);return new la({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Vv(r);return new la({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Vv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends ws{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new uh(e,i,r,l)}}function xE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,r):c})}async function I2(s,e,i=!1){const r=await Ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return la._forOperation(s,"link",r)}async function C2(s,e,i=!1){const{auth:r}=s;if(ni(r.app))return Promise.reject(_s(r));const l="reauthenticate";try{const c=await Ql(s,xE(r,l,e,s),i);Te(c.idToken,r,"internal-error");const d=Gm(c.idToken);Te(d,r,"internal-error");const{sub:p}=d;return Te(s.uid===p,r,"user-mismatch"),la._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),c}}async function DE(s,e,i=!1){if(ni(s.app))return Promise.reject(_s(s));const r="signIn",l=await xE(s,r,e),c=await la._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function N2(s,e){return DE(ha(s),e)}async function OE(s){const e=ha(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x2(s,e,i){if(ni(s.app))return Promise.reject(_s(s));const r=ha(s),d=await vm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&OE(s),y}),p=await la._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function D2(s,e,i){return ni(s.app)?Promise.reject(_s(s)):N2(Mt(s),Io.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OE(s),r})}function O2(s,e,i,r){return Mt(s).onIdTokenChanged(e,i,r)}function M2(s,e,i){return Mt(s).beforeAuthStateChanged(e,i)}function V2(s,e,i,r){return Mt(s).onAuthStateChanged(e,i,r)}function k2(s){return Mt(s).signOut()}const ch="__sak";class ME{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P2=1e3,L2=10;class VE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);e2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,L2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const U2=VE;class kE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}kE.type="SESSION";const PE=kE;function j2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await j2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function Xm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Xm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function B2(s){Bi().location.href=s}function LE(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function q2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H2(){return navigator?.serviceWorker?.controller||null}function F2(){return LE()?self:null}const UE="firebaseLocalStorageDb",G2=1,hh="firebaseLocalStorage",jE="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function Q2(){const s=indexedDB.deleteDatabase(UE);return new ru(s).toPromise()}function Em(){const s=indexedDB.open(UE,G2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:jE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await Q2(),e(await Em()))})})}async function kv(s,e,i){const r=Ch(s,!0).put({[jE]:e,value:i});return new ru(r).toPromise()}async function K2(s,e){const i=Ch(s,!1).get(e),r=await new ru(i).toPromise();return r===void 0?null:r.value}function Pv(s,e){const i=Ch(s,!0).delete(e);return new ru(i).toPromise()}const Y2=800,X2=3;class zE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>X2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(F2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q2(),!this.activeServiceWorker)return;this.sender=new z2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await kv(e,ch,"1"),await Pv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>kv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>K2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zE.type="LOCAL";const $2=zE;new nu(3e4,6e4);function Z2(s,e){return e?ys(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class $m extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,i){return go(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function J2(s){return DE(s.auth,new $m(s),s.bypassAuthState)}function W2(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),C2(i,new $m(s),s.bypassAuthState)}async function eR(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),I2(i,new $m(s),s.bypassAuthState)}class BE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return eR;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:gi(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tR=new nu(2e3,1e4);class fo extends BE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tR.get())};e()}}fo.currentPopupAction=null;const nR="pendingRedirect",$c=new Map;class iR extends BE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await sR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sR(s,e){const i=oR(e),r=aR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function rR(s,e){$c.set(s._key(),e)}function aR(s){return ys(s._redirectPersistence)}function oR(s){return Xc(nR,s.config.apiKey,s.name)}async function lR(s,e,i=!1){if(ni(s.app))return Promise.reject(_s(s));const r=ha(s),l=Z2(r,e),d=await new iR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const uR=600*1e3;class cR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!qE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function qE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function hR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(s);default:return!1}}async function fR(s,e={}){return Sr(s,"GET","/v1/projects",e)}const dR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mR=/^https?/;async function pR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await fR(s);for(const i of e)try{if(gR(i))return}catch{}gi(s,"unauthorized-domain")}function gR(s){const e=ym(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!mR.test(i))return!1;if(dR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const yR=new nu(3e4,6e4);function Uv(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function _R(s){return new Promise((e,i)=>{function r(){Uv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uv(),i(zi(s,"network-request-failed"))},timeout:yR.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)r();else{const l=u2("iframefcb");return Bi()[l]=()=>{gapi.load?r():i(zi(s,"network-request-failed"))},RE(`${l2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function vR(s){return Zc=Zc||_R(s),Zc}const ER=new nu(5e3,15e3),TR="__/auth/iframe",bR="emulator/auth/iframe",SR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wR(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Fm(e,bR):`https://${s.config.authDomain}/${TR}`,r={apiKey:e.apiKey,appName:s.name,v:Ro},l=AR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${tu(r).slice(1)}`}async function RR(s){const e=await vR(s),i=Bi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:wR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),p=Bi().setTimeout(()=>{c(d)},ER.get());function y(){Bi().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const IR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CR=500,NR=600,xR="_blank",DR="http://localhost";class jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OR(s,e,i,r=CR,l=NR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...IR,width:r.toString(),height:l.toString(),top:c,left:d},_=mn().toLowerCase();i&&(p=vE(_)?xR:i),yE(_)&&(e=e||DR,y.scrollbars="yes");const b=Object.entries(y).reduce((D,[G,W])=>`${D}${G}=${W},`,"");if(Ww(_)&&p!=="_self")return MR(e||"",p),new jv(null);const A=window.open(e||"",p,b);Te(A,s,"popup-blocked");try{A.focus()}catch{}return new jv(A)}function MR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const VR="__/auth/handler",kR="emulator/auth/handler",PR=encodeURIComponent("fac");async function zv(s,e,i,r,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ro,eventId:l};if(e instanceof NE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",vA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof su){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${PR}=${encodeURIComponent(y)}`:"";return`${LR(s)}?${tu(p).slice(1)}${_}`}function LR({config:s}){return s.emulator?Fm(s,kR):`https://${s.authDomain}/${VR}`}const tm="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PE,this._completeRedirectFn=lR,this._overrideRedirectResult=rR}async _openPopup(e,i,r,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zv(e,i,r,ym(),l);return OR(e,c,Xm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await zv(e,i,r,ym(),l);return B2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await RR(e),r=new cR(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(tm,{type:tm},l=>{const c=l?.[0]?.[tm];c!==void 0&&i(!!c),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return AE()||_E()||Qm()}}const jR=UR;var Bv="@firebase/auth",qv="1.12.0";class zR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qR(s){_o(new aa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(s)},_=new r2(r,l,c,y);return p2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),_o(new aa("auth-internal",e=>{const i=ha(e.getProvider("auth").getImmediate());return(r=>new zR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Bv,qv,BR(s)),dr(Bv,qv,"esm2020")}const HR=300,FR=eE("authIdTokenMaxAge")||HR;let Hv=null;const GR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>FR)return;const l=i?.token;Hv!==l&&(Hv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function QR(s=aE()){const e=qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=m2(s,{popupRedirectResolver:jR,persistence:[$2,U2,PE]}),r=eE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=GR(c.toString());M2(i,d,()=>d(i.currentUser)),O2(i,p=>d(p))}}const l=J0("auth");return l&&g2(i,`http://${l}`),i}function KR(){return document.getElementsByTagName("head")?.[0]??document}a2({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",KR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qR("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,HE;(function(){var s;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(k,M,L){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return w.prototype[M].apply(k,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)k[M]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(M=0;M<16;++M)k[M]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],M=N.g[2];let L=N.g[3],R;R=w+(L^C&(M^L))+k[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(M^w&(C^M))+k[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(C^L&(w^C))+k[2]+606105819&4294967295,M=L+(R<<17&4294967295|R>>>15),R=C+(w^M&(L^w))+k[3]+3250441966&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(L^C&(M^L))+k[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(M^w&(C^M))+k[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(C^L&(w^C))+k[6]+2821735955&4294967295,M=L+(R<<17&4294967295|R>>>15),R=C+(w^M&(L^w))+k[7]+4249261313&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(L^C&(M^L))+k[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(M^w&(C^M))+k[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(C^L&(w^C))+k[10]+4294925233&4294967295,M=L+(R<<17&4294967295|R>>>15),R=C+(w^M&(L^w))+k[11]+2304563134&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(L^C&(M^L))+k[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(M^w&(C^M))+k[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(C^L&(w^C))+k[14]+2792965006&4294967295,M=L+(R<<17&4294967295|R>>>15),R=C+(w^M&(L^w))+k[15]+1236535329&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(M^L&(C^M))+k[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^M&(w^C))+k[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(L^w))+k[11]+643717713&4294967295,M=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(M^L))+k[0]+3921069994&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(C^M))+k[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^M&(w^C))+k[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(L^w))+k[15]+3634488961&4294967295,M=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(M^L))+k[4]+3889429448&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(C^M))+k[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^M&(w^C))+k[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(L^w))+k[3]+4107603335&4294967295,M=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(M^L))+k[8]+1163531501&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(C^M))+k[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^M&(w^C))+k[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(L^w))+k[7]+1735328473&4294967295,M=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(M^L))+k[12]+2368359562&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(C^M^L)+k[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^M)+k[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^C)+k[11]+1839030562&4294967295,M=L+(R<<16&4294967295|R>>>16),R=C+(M^L^w)+k[14]+4259657740&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(C^M^L)+k[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^M)+k[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^C)+k[7]+4139469664&4294967295,M=L+(R<<16&4294967295|R>>>16),R=C+(M^L^w)+k[10]+3200236656&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(C^M^L)+k[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^M)+k[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^C)+k[3]+3572445317&4294967295,M=L+(R<<16&4294967295|R>>>16),R=C+(M^L^w)+k[6]+76029189&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(C^M^L)+k[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^M)+k[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^C)+k[15]+530742520&4294967295,M=L+(R<<16&4294967295|R>>>16),R=C+(M^L^w)+k[2]+3299628645&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(M^(C|~L))+k[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~M))+k[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~C))+k[14]+2878612391&4294967295,M=L+(R<<15&4294967295|R>>>17),R=C+(L^(M|~w))+k[5]+4237533241&4294967295,C=M+(R<<21&4294967295|R>>>11),R=w+(M^(C|~L))+k[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~M))+k[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~C))+k[10]+4293915773&4294967295,M=L+(R<<15&4294967295|R>>>17),R=C+(L^(M|~w))+k[1]+2240044497&4294967295,C=M+(R<<21&4294967295|R>>>11),R=w+(M^(C|~L))+k[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~M))+k[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~C))+k[6]+2734768916&4294967295,M=L+(R<<15&4294967295|R>>>17),R=C+(L^(M|~w))+k[13]+1309151649&4294967295,C=M+(R<<21&4294967295|R>>>11),R=w+(M^(C|~L))+k[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~M))+k[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~C))+k[2]+718787259&4294967295,M=L+(R<<15&4294967295|R>>>17),R=C+(L^(M|~w))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,k=this.C;let M=this.h,L=0;for(;L<w;){if(M==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(k[M++]=N.charCodeAt(L++),M==this.blockSize){l(this,k),M=0;break}}else for(;L<w;)if(k[M++]=N[L++],M==this.blockSize){l(this,k),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)N[w++]=this.g[C]>>>k&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let k=!0;for(let M=N.length-1;M>=0;M--){const L=N[M]|0;k&&L==w||(C[M]=L,k=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return ne(_(-N));const w=[];let C=1;for(let k=0;N>=C;k++)w[k]=N/C|0,C*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return ne(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let k=A;for(let L=0;L<N.length;L+=8){var M=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+M),w);M<8?(M=_(Math.pow(w,M)),k=k.j(M).add(_(R))):(k=k.j(C),k=k.add(_(R)))}return k}var A=y(0),D=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(oe(this))return-ne(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);N+=(k>=0?k:4294967296+k)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(oe(this))return"-"+ne(this).toString(N);const w=_(Math.pow(N,6));var C=this;let k="";for(;;){const M=Qe(C,w).g;C=pe(C,M.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=M,W(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function oe(N){return N.h==-1}s.l=function(N){return N=pe(this,N),oe(N)?-1:W(N)?0:1};function ne(N){const w=N.g.length,C=[];for(let k=0;k<w;k++)C[k]=~N.g[k];return new d(C,~N.h).add(D)}s.abs=function(){return oe(this)?ne(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let k=0;for(let M=0;M<=w;M++){let L=k+(this.i(M)&65535)+(N.i(M)&65535),R=(L>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);k=R>>>16,L&=65535,R&=65535,C[M]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function pe(N,w){return N.add(ne(w))}s.j=function(N){if(W(this)||W(N))return A;if(oe(this))return oe(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(oe(N))return ne(this.j(ne(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<N.g.length;M++){const L=this.i(k)>>>16,R=this.i(k)&65535,rt=N.i(M)>>>16,Et=N.i(M)&65535;C[2*k+2*M]+=R*Et,we(C,2*k+2*M),C[2*k+2*M+1]+=L*Et,we(C,2*k+2*M+1),C[2*k+2*M+1]+=R*rt,we(C,2*k+2*M+1),C[2*k+2*M+2]+=L*rt,we(C,2*k+2*M+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function we(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ve(N,w){this.g=N,this.h=w}function Qe(N,w){if(W(w))throw Error("division by zero");if(W(N))return new ve(A,A);if(oe(N))return w=Qe(ne(N),w),new ve(ne(w.g),ne(w.h));if(oe(w))return w=Qe(N,ne(w)),new ve(ne(w.g),w.h);if(N.g.length>30){if(oe(N)||oe(w))throw Error("slowDivide_ only works with positive integers.");for(var C=D,k=w;k.l(N)<=0;)C=tt(C),k=tt(k);var M=Ne(C,1),L=Ne(k,1);for(k=Ne(k,2),C=Ne(C,2);!W(k);){var R=L.add(k);R.l(N)<=0&&(M=M.add(C),L=R),k=Ne(k,1),C=Ne(C,1)}return w=pe(N,M.j(w)),new ve(M,w)}for(M=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(C),R=L.j(w);oe(R)||R.l(N)>0;)C-=k,L=_(C),R=L.j(w);W(L)&&(L=D),M=M.add(L),N=pe(N,R)}return new ve(M,N)}s.B=function(N){return Qe(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&N.i(k);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|N.i(k);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^N.i(k);return new d(C,this.h^N.h)};function tt(N){const w=N.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(C,N.h)}function Ne(N,w){const C=w>>5;w%=32;const k=N.g.length-C,M=[];for(let L=0;L<k;L++)M[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new d(M,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,mr=d}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FE,kl,GE,Jc,Tm,QE,KE,YE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var re=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)re[xe-2]=arguments[xe];return m.prototype[U].apply(T,re)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let re=0;re<q;re++)u[v+re]=U[re]}else u.push(U)}}class oe{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class we{constructor(){this.h=this.g=null}add(m,v){const T=ve.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ve=new oe(()=>new Qe,u=>u.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,Ne=!1,N=new we,w=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(C)}};function C(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){ne(v)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ne=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(rt,M),rt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),F=0;function ee(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ye(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const re=Re(u,m,T,U);return re>-1?(m=u[re],v||(m.fa=!1)):(m=new ee(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function Se(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),mt={};function ct(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ct(u,m[q],v,T,U);return null}return v=Cr(v),u&&u[Et]?u.J(m,v,p(T)?!!T.capture:!1,U):_i(u,m,v,!1,T,U)}function _i(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const re=p(U)?!!U.capture:!!U;let xe=Bn(u);if(xe||(u[Ue]=xe=new ue(u)),v=xe.add(m,v,T,re,q),v.proxy)return v;if(T=Rs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Xt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rs(){function u(v){return m.call(u.src,u.listener,v)}const m=Rr;return u}function vi(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)vi(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=Cr(v),u&&u[Et]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Re(m,v,T,U),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Bn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,T,U)),(v=u>-1?m[u]:null)&&Ki(v))}function Ki(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])Se(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Xt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Bn(m))?(Se(v,u),v.h==0&&(v.src=null,m[Ue]=null)):de(u)}}}function Xt(u){return u in mt?mt[u]:mt[u]="on"+u}function Rr(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ki(u),u=v.call(T,m)}return u}function Bn(u){return u=u[Ue],u instanceof ue?u:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cr(u){return typeof u=="function"?u:(u[Ir]||(u[Ir]=function(m){return u.handleEvent(m)}),u[Ir])}function At(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}A(At,k),At.prototype[Et]=!0,At.prototype.removeEventListener=function(u,m,v,T){vi(this,u,m,v,T)};function Ct(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(T,u),ae(m,U)}U=!0;let q,re;if(v)for(re=v.length-1;re>=0;re--)q=m.g=v[re],U=Ei(q,T,!0,m)&&U;if(q=m.g=u,U=Ei(q,T,!0,m)&&U,U=Ei(q,T,!1,m)&&U,v)for(re=0;re<v.length;re++)q=m.g=v[re],U=Ei(q,T,!1,m)&&U}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)de(v[T]);delete u.g[m],u.h--}}this.G=null},At.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},At.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ei(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const re=m[q];if(re&&!re.da&&re.capture==v){const xe=re.listener,Nt=re.ha||re.src;re.fa&&Se(u.i,re),U=xe.call(Nt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Oo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pa(u){u.g=Oo(()=>{u.g=null,u.i&&(u.i=!1,pa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){k.call(this),this.h=u,this.g={}}A(Yi,k);var Nr=[];function xr(u){Le(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ki(m)},u),u.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),xr(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=d.JSON.stringify,Mo=d.JSON.parse,ga=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ya(){}function Xi(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){M.call(this,"d")}A(Gt,M);function yn(){M.call(this,"c")}A(yn,M);var Tt={},_a=null;function Is(){return _a=_a||new At}Tt.Ia="serverreachability";function va(u){M.call(this,Tt.Ia,u)}A(va,M);function qn(u){const m=Is();Ct(m,new va(m))}Tt.STAT_EVENT="statevent";function $i(u,m){M.call(this,Tt.STAT_EVENT,u),this.stat=m}A($i,M);function bt(u){const m=Is();Ct(m,new $i(m,u))}Tt.Ja="timingevent";function Hn(u,m){M.call(this,Tt.Ja,u),this.size=m}A(Hn,M);function x(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Y(){this.g=!0}Y.prototype.ua=function(){this.g=!1};function te(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var re="",xe=q.split("&");for(let Ze=0;Ze<xe.length;Ze++){var Nt=xe[Ze].split("=");if(Nt.length>1){const _t=Nt[0];Nt=Nt[1];const Kn=_t.split("_");re=Kn.length>=2&&Kn[1]=="type"?re+(_t+"="+Nt+"&"):re+(_t+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+re})}function se(u,m,v,T,U,q,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+re})}function ie(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+_e(u,v)+(T?" "+T:"")})}function me(u,m){u.info(function(){return"TIMEOUT: "+m})}Y.prototype.info=function(){};function _e(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return Ti(q)}catch{return m}}var Oe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ea;function si(){}A(si,ya),si.prototype.g=function(){return new XMLHttpRequest},Ea=new si;function Zi(u){return encodeURIComponent(String(u))}function pu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ri(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Vt={},$t={};function bi(u,m,v){u.M=1,u.A=Dr(Pt(m)),u.u=v,u.R=!0,Ta(u,null)}function Ta(u,m){u.F=Date.now(),Si(u),u.B=Pt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),wa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ai,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Nr[0]=U.toString()),U=Nr);for(let q=0;q<U.length;q++){const re=ct(v,U[q],T||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),qn(),te(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ui(this.g),Nt=this.g.ya(),Ze=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||xe!=4||Nt==7||(Nt==8||Ze<=0?qn(3):qn(2)),Ai(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,se(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)ie(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,bt(12),xn(this),Fn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=yu(this,v),_t==$t){xe==4&&(this.m=4,bt(14),u=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Vt){this.m=4,bt(15),ie(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ie(this.i,this.l,_t,null),wi(this,_t);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)ie(this.i,this.l,v,"[Invalid Chunked Response]"),xn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(re),re.P=!0,bt(11))}}else ie(this.i,this.l,v,null),wi(this,v);xe==4&&xn(this),this.o&&!this.K&&(xe==4?Ru(this.j,this):(this.o=!1,Si(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),xn(this),Fn(this)}}}catch{}};function Yh(u){if(!gu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const T=m.length,U=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?$t:(v=Number(m.substring(v,T)),isNaN(v)?Vt:(T+=1,T+v>m.length?$t:(m=m.slice(T,T+v),u.C=T+v,m)))}ri.prototype.cancel=function(){this.K=!0,xn(this)};function Si(u){u.T=Date.now()+u.H,ba(u,u.H)}function ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=x(_(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(me(this.i,this.B),this.M!=2&&(qn(),bt(17)),xn(this),this.m=2,Fn(this)):ba(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Ru(u.j,u)}function xn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,xr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),ks(v);else break e;Ur(v),bt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=x(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&xa(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ze=U[m];const _t=Ze[0];if(!(_t<=v.K))if(v.K=_t,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const Kn=Ze[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const Vi=Ze[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const ci=Ze[5];ci!=null&&typeof ci=="number"&&ci>0&&(T=1.5*ci,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const hi=u.g;if(hi){const jr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var q=T.h;q.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Po(q,q.h),q.h=null))}if(T.G){const Da=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(T.wa=Da,nt(T.J,T.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var re=u;if(T.na=Nu(T,T.L?T.ba:null,T.W),re.L){Lo(T.h,re);var xe=re,Nt=T.O;Nt&&(xe.H=Nt),xe.D&&(Ai(xe),Si(xe)),T.g=re}else Au(T);v.i.length>0&&Oi(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Mi(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Mi(v,7):Qo(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}qn(4)}catch{}}var kt=class{constructor(u,m){this.g=u,this.map=m}};function Vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Po(u,m){u.g?u.g.add(m):u.h=m}function Lo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.u),this.h=u.h,jo(this,bu(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Cs(this,m[4]),this.h=Ci(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,Aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,Aa,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Or(v,v.charAt(0)=="/"?zo:vu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Or(v,Eu)),u.join("")},Dn.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?Zt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Cs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let re=0;re<U.length;){const xe=U[re++];xe=="."?T&&re==U.length&&q.push(""):xe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&re==U.length&&q.push("")):(q.push(xe),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?jo(m,bu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new Dn(u)}function Zt(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jo(u,m,v){m instanceof xs?(u.i=m,Ra(u.i,u.l)):(v||(m=Or(m,Ns)),u.i=new xs(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function Dr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,vu=/[#\?:]/g,zo=/[#\?]/g,Ns=/[#\?@]/g,Eu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=xs.prototype,s.add=function(u,m){vn(this),this.i=null,u=Ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Tu(u,m){vn(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bo(u,m){return vn(u),m=Ds(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function qo(u,m){vn(u);let v=[];if(typeof m=="string")Bo(u,m)&&(v=v.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return vn(this),this.i=null,u=Ds(this,u),Bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=qo(this,u),u.length>0?String(u[0]):m):m};function wa(u,m,v){Tu(u,m),v.length>0&&(u.i=null,u.g.set(Ds(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Zi(v);v=qo(this,v);for(let q=0;q<v.length;q++){let re=U;v[q]!==""&&(re+="="+Zi(v[q])),u.push(re)}}return this.i=u.join("&")};function bu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ra(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(Tu(this,T),wa(this,U,v))},u)),u.j=m}function oi(u,m){const v=new Y;if(d.Image){const T=new Image;T.onload=b(Gn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Gn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Gn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Gn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ho(u,m){const v=new Y,T=new AbortController,U=setTimeout(()=>{T.abort(),Gn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Gn(v,"TestPingServer: ok",!0,m):Gn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Gn(v,"TestPingServer: error",!1,m)})}function Gn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Os(){this.g=new ga}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ni,ya),Ni.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){At.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Mr,At),s=Mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):li(this),this.readyState==3&&Ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},s.Na=function(u){this.g&&(this.response=u,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Le(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Vr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Qn(v),typeof u=="string"?v!=null&&Zi(v):nt(u,m,v))}function at(u){At.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(at,At);var xi=/^https?$/i,Fo=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ea.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){kr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of v)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){kr(this,q)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Go(u),Ji(u)}function Go(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),ui(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let re=String(u.D).match(_u)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),T=!xi.test(re?re.toLowerCase():"")}v=T}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var U=ui(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Go(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mo(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=pu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Ye(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Vs(u){this.za=0,this.i=[],this.j=new Y,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){bt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Nu(this,null,this.W),Oi(this)};function Qo(u){if(Ca(u),u.I==3){var m=u.V++,v=Pt(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Lr(u,v),m=new ri(u,u.j,m),m.M=2,m.A=Dr(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}Cu(u)}function ks(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function Ca(u){ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||w(),Ne||(tt(),Ne=!0),N.add(m,u),u.D=0}}function Na(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=x(_(u.Ea,u,m),Iu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ri(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Su(this,U,m),v=Pt(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Lr(this,v),q&&(this.R?m="headers="+Zi(Qn(q))+"&"+m:this.u&&Vr(v,this.u,q)),Po(this.h,U),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),U.U=!0,bi(U,v,null)):bi(U,v,m),this.I=2}}else this.I==3&&(u?Ko(this,u):this.i.length==0||ko(this.h)||Ko(this))};function Ko(u,m){var v;m?v=m.l:v=u.V++;const T=Pt(u.J);nt(T,"SID",u.M),nt(T,"RID",v),nt(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Vr(T,u.u,u.o),v=new ri(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Po(u.h,v),bi(v,T,m)}function Lr(u,m){u.H&&Le(u.H,function(v,T){nt(m,T,v)}),u.l&&Le({},function(v,T){nt(m,T,v)})}function Su(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let xe=-1;for(;;){const Nt=["count="+v];xe==-1?v>0?(xe=U[0].g,Nt.push("ofs="+xe)):xe=0:Nt.push("ofs="+xe);let Ze=!0;for(let _t=0;_t<v;_t++){var q=U[_t].g;const Kn=U[_t].map;if(q-=xe,q<0)xe=Math.max(0,U[_t].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var re=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Vi,ci]of re){let hi=ci;p(ci)&&(hi=Ti(ci)),Nt.push(q+Vi+"="+encodeURIComponent(hi))}}catch(Vi){throw Nt.push(q+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Kn)}}if(Ze){re=Nt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),m.G=u,re}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||w(),Ne||(tt(),Ne=!0),N.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=x(_(u.Da,u),Iu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=x(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),ks(this),wu(this))};function Yo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Dr(Pt(m)),v.u=null,v.R=!0,Ta(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ks(this),Ur(this),bt(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ru(u,m){var v=null;if(u.g==m){xa(u),Yo(u),u.g=null;var T=2}else if(Ii(u.h,m))v=m.G,Lo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Is(),Ct(T,new Hn(T,v)),Oi(u)}else Au(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Na(u,m)||T==2&&Ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function Iu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new Dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),Dr(T),U?oi(T.toString(),v):Ho(T.toString(),v)}else bt(2);u.I=0,u.l&&u.l.pa(m),Cu(u),Ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Cu(u){if(u.I=0,u.ja=[],u.l){const m=Uo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Nu(u,m,v){var T=v instanceof Dn?Pt(v):new Dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Cs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Dn(null);T&&Zt(q,T),m&&(q.g=m),U&&Cs(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&nt(T,v,m),nt(T,"VER",u.ka),Lr(u,T),T}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new at(new Ni({ab:v})):new at(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){At.call(this),this.g=new Vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}A(pn,At),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Qo(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ti(u),u=v);m.i.push(new kt(m.Ya++,u)),m.I==3&&Oi(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,pn.Z.N.call(this)};function Ou(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ou,Gt);function Mu(){yn.call(this),this.status=1}A(Mu,yn);function es(u){this.g=u}A(es,Du),es.prototype.ra=function(){Ct(this.g,"a")},es.prototype.qa=function(u){Ct(this.g,new Ou(u))},es.prototype.pa=function(u){Ct(this.g,new Mu)},es.prototype.oa=function(){Ct(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,YE=function(){return new Ps},KE=function(){return Is()},QE=Tt,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Jc=Oe,Qt.COMPLETE="complete",GE=Qt,Xi.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",At.prototype.listen=At.prototype.J,kl=Xi,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,FE=at}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Qv="4.9.3";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Co="12.7.0";const ua=new zm("@firebase/firestore");function lo(){return ua.logLevel}function ce(s,...e){if(ua.logLevel<=Be.DEBUG){const i=e.map(Zm);ua.debug(`Firestore (${Co}): ${s}`,...i)}}function bs(s,...e){if(ua.logLevel<=Be.ERROR){const i=e.map(Zm);ua.error(`Firestore (${Co}): ${s}`,...i)}}function vo(s,...e){if(ua.logLevel<=Be.WARN){const i=e.map(Zm);ua.warn(`Firestore (${Co}): ${s}`,...i)}}function Zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,XE(s,r,i)}function XE(s,e,i){let r=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw bs(r),new Error(r)}function et(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||XE(e,l,r)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class $E{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class XR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $R{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new $E(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class ZR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ZR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Kv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=eI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function bm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return nm(l)===nm(c)?qe(l,c):nm(l)?1:-1}return qe(s.length,e.length)}const tI=55296,nI=57343;function nm(s){const e=s.charCodeAt(0);return e>=tI&&e<=nI}function Eo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Yv="__name__";class ji{constructor(e,i,r){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&be(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=ji.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=ji.isNumericId(e),l=ji.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?ji.extractNumericId(e).compare(ji.extractNumericId(i)):bm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class dt extends ji{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ji{construct(e,i,r){return new ln(e,i,r)}static isValidIdentifier(e){return iI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yv}static keyField(){return new ln([Yv])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(dt.fromString(e))}static fromName(e){return new ye(dt.fromString(e).popFirst(5))}static empty(){return new ye(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new dt(e.slice()))}}function ZE(s,e,i){if(!i)throw new le($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function sI(s,e,i,r){if(e===!0&&r===!0)throw new le($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Xv(s){if(!ye.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $v(s){if(ye.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function JE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function In(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nh(s);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ht(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!JE(s))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new le($.INVALID_ARGUMENT,i);return!0}const Zv=-62135596800,Jv=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Jv);return new yt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zv)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ht("string",yt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new yt(0,0))}static max(){return new Ae(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function rI(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new yt(i+1,0):new yt(i,r));return new gr(l,ye.empty(),e)}function aI(s){return new gr(s.readTime,s.key,Yl)}class gr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new gr(Ae.min(),ye.empty(),Yl)}static max(){return new gr(Ae.max(),ye.empty(),Yl)}}function oI(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==lI)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++p,p===c&&r(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new J(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function cI(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xo(s){return s.name==="IndexedDbTransactionError"}class xh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const Wm=-1;function Dh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function hI(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const WE="";function fI(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Wv(e)),e=dI(s.get(i),e);return Wv(e)}function dI(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case WE:i+="";break;default:i+=c}}return i}function Wv(s){return s+WE+""}function e0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ar(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function eT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new on(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new zn([])}unionWith(e){let i=new Yt(ln.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tT("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=mI.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(s.seconds),nanos:Ot(s.nanos)}}function Ot(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const nT="server_timestamp",iT="__type__",sT="__previous_value__",rT="__local_write_time__";function ep(s){return(s?.mapValue?.fields||{})[iT]?.stringValue===nT}function Oh(s){const e=s.mapValue.fields[sT];return ep(e)?Oh(e):e}function Xl(s){const e=yr(s.mapValue.fields[rT].timestampValue);return new yt(e.seconds,e.nanos)}class pI{constructor(e,i,r,l,c,d,p,y,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const dh="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||dh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const aT="__type__",gI="__max__",zc={mapValue:{}},oT="__vector__",mh="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ep(s)?4:_I(s)?9007199254740991:yI(s)?10:11:be(28295,{value:s})}function Qi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=yr(l.timestampValue),p=yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return _r(l.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ot(l.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(l.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ot(l.integerValue)===Ot(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ot(l.doubleValue),p=Ot(c.doubleValue);return d===p?fh(d)===fh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Eo(s.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(e0(d)!==e0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Qi(d[y],p[y])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((i=>Qi(i,e)))!==void 0}function To(s,e){if(s===e)return 0;const i=vr(s),r=vr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ot(c.integerValue||c.doubleValue),y=Ot(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return n0(s.timestampValue,e.timestampValue);case 4:return n0(Xl(s),Xl(e));case 5:return bm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=_r(c),y=_r(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=qe(p[_],y[_]);if(b!==0)return b}return qe(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=qe(Ot(c.latitude),Ot(d.latitude));return p!==0?p:qe(Ot(c.longitude),Ot(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return i0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[mh]?.arrayValue,b=y[mh]?.arrayValue,A=qe(_?.values?.length||0,b?.values?.length||0);return A!==0?A:i0(_,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const D=bm(y[A],b[A]);if(D!==0)return D;const G=To(p[y[A]],_[b[A]]);if(G!==0)return G}return qe(y.length,b.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function n0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=yr(s),r=yr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function i0(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=To(i[l],r[l]);if(c)return c}return qe(i.length,r.length)}function bo(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=yr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Sm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Sm(i.fields[d])}`;return l+"}"})(s.mapValue):be(61005,{value:s})}function Wc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(s);return e?16+Wc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Wc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ar(r.fields,((c,d)=>{l+=c.length+Wc(d)})),l})(s.mapValue);default:throw be(13486,{value:s})}}function s0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Am(s){return!!s&&"integerValue"in s}function tp(s){return!!s&&"arrayValue"in s}function r0(s){return!!s&&"nullValue"in s}function a0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function yI(s){return(s?.mapValue?.fields||{})[aT]?.stringValue===oT}function Bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ar(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Bl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return{...s}}function _I(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!eh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=ln.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Ar(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Rn(Bl(this.value))}}function lT(s){const e=[];return Ar(s.fields,((i,r)=>{const l=new ln([i]);if(eh(r)){const c=lT(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new zn(e)}class dn{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),Rn.empty(),0)}static newFoundDocument(e,i,r,l){return new dn(e,1,i,Ae.min(),r,l,0)}static newNoDocument(e,i){return new dn(e,2,i,Ae.min(),Ae.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,Ae.min(),Ae.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,i){this.position=e,this.inclusive=i}}function o0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),i.key):r=To(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function l0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Qi(s.position[i],e.position[i]))return!1;return!0}class gh{constructor(e,i="asc"){this.field=e,this.dir=i}}function vI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class uT{}class qt extends uT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new TI(e,i,r):i==="array-contains"?new AI(e,r):i==="in"?new wI(e,r):i==="not-in"?new RI(e,r):i==="array-contains-any"?new II(e,r):new qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new bI(e,r):new SI(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(To(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(To(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends uT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new yi(e,i)}matches(e){return cT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(s){return s.op==="and"}function hT(s){return EI(s)&&cT(s)}function EI(s){for(const e of s.filters)if(e instanceof yi)return!1;return!0}function wm(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+bo(s.value);if(hT(s))return s.filters.map((e=>wm(e))).join(",");{const e=s.filters.map((i=>wm(i))).join(",");return`${s.op}(${e})`}}function fT(s,e){return s instanceof qt?(function(r,l){return l instanceof qt&&r.op===l.op&&r.field.isEqual(l.field)&&Qi(r.value,l.value)})(s,e):s instanceof yi?(function(r,l){return l instanceof yi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&fT(d,l.filters[p])),!0):!1})(s,e):void be(19439)}function dT(s){return s instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${bo(i.value)}`})(s):s instanceof yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(dT).join(" ,")+"}"})(s):"Filter"}class TI extends qt{constructor(e,i,r){super(e,i,r),this.key=ye.fromName(r.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class bI extends qt{constructor(e,i){super(e,"in",i),this.keys=mT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class SI extends qt{constructor(e,i){super(e,"not-in",i),this.keys=mT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function mT(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class AI extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tp(i)&&Zl(i.arrayValue,this.value)}}class wI extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class RI extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class II extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class CI{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function u0(s,e=null,i=[],r=[],l=null,c=null,d=null){return new CI(s,e,i,r,l,c,d)}function np(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>wm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Dh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>bo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>bo(r))).join(",")),e.Te=i}return e.Te}function ip(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vI(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!fT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!l0(s.startAt,e.startAt)&&l0(s.endAt,e.endAt)}function Rm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ou{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NI(s,e,i,r,l,c,d,p){return new ou(s,e,i,r,l,c,d,p)}function Mh(s){return new ou(s)}function c0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pT(s){return s.collectionGroup!==null}function ql(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Yt(ln.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gh(c,r))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new gh(ln.keyField(),r))}return e.Ie}function qi(s){const e=Ce(s);return e.Ee||(e.Ee=xI(e,ql(s))),e.Ee}function xI(s,e){if(s.limitType==="F")return u0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new gh(l.field,c)}));const i=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return u0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Im(s,e){const i=s.filters.concat([e]);return new ou(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Cm(s,e,i){return new ou(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Vh(s,e){return ip(qi(s),qi(e))&&s.limitType===e.limitType}function gT(s){return`${np(qi(s))}|lt:${s.limitType}`}function uo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>dT(l))).join(", ")}]`),Dh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>bo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>bo(l))).join(",")),`Target(${r})`})(qi(s))}; limitType=${s.limitType})`}function kh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of ql(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=o0(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,ql(r),l)||r.endAt&&!(function(d,p,y){const _=o0(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,ql(r),l))})(s,e)}function DI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yT(s){return(e,i)=>{let r=!1;for(const l of ql(s)){const c=OI(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function OI(s,e,i){const r=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?To(y,_):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}const MI=new St(ye.comparator);function Ss(){return MI}const _T=new St(ye.comparator);function Pl(...s){let e=_T;for(const i of s)e=e.insert(i.key,i);return e}function vT(s){let e=_T;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function na(){return Hl()}function ET(){return Hl()}function Hl(){return new fa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const VI=new St(ye.comparator),kI=new Yt(ye.comparator);function He(...s){let e=kI;for(const i of s)e=e.add(i);return e}const PI=new Yt(qe);function LI(){return PI}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function TT(s){return{integerValue:""+s}}function UI(s,e){return hI(e)?TT(e):sp(s,e)}class Ph{constructor(){this._=void 0}}function jI(s,e,i){return s instanceof yh?(function(l,c){const d={fields:{[iT]:{stringValue:nT},[rT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ep(c)&&(c=Oh(c)),c&&(d.fields[sT]=c),{mapValue:d}})(i,e):s instanceof Jl?ST(s,e):s instanceof Wl?AT(s,e):(function(l,c){const d=bT(l,c),p=h0(d)+h0(l.Ae);return Am(d)&&Am(l.Ae)?TT(p):sp(l.serializer,p)})(s,e)}function zI(s,e,i){return s instanceof Jl?ST(s,e):s instanceof Wl?AT(s,e):i}function bT(s,e){return s instanceof _h?(function(r){return Am(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class yh extends Ph{}class Jl extends Ph{constructor(e){super(),this.elements=e}}function ST(s,e){const i=wT(e);for(const r of s.elements)i.some((l=>Qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Wl extends Ph{constructor(e){super(),this.elements=e}}function AT(s,e){let i=wT(e);for(const r of s.elements)i=i.filter((l=>!Qi(l,r)));return{arrayValue:{values:i}}}class _h extends Ph{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function h0(s){return Ot(s.integerValue||s.doubleValue)}function wT(s){return tp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function BI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Jl&&l instanceof Jl||r instanceof Wl&&l instanceof Wl?Eo(r.elements,l.elements,Qi):r instanceof _h&&l instanceof _h?Qi(r.Ae,l.Ae):r instanceof yh&&l instanceof yh})(s.transform,e.transform)}class qI{constructor(e,i){this.version=e,this.transformResults=i}}class Cn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Lh{}function RT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Uh(s.key,Cn.none()):new lu(s.key,s.data,Cn.none());{const i=s.data,r=Rn.empty();let l=new Yt(ln.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new wr(s.key,r,new zn(l.toArray()),Cn.none())}}function HI(s,e,i){s instanceof lu?(function(l,c,d){const p=l.value.clone(),y=d0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof wr?(function(l,c,d){if(!th(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=d0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(IT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof lu?(function(c,d,p,y){if(!th(c.precondition,d))return p;const _=c.value.clone(),b=m0(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof wr?(function(c,d,p,y){if(!th(c.precondition,d))return p;const _=m0(c.fieldTransforms,y,d),b=d.data;return b.setAll(IT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,p){return th(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function FI(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=bT(r.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function f0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Eo(r,l,((c,d)=>BI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Lh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wr extends Lh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function d0(s,e,i){const r=new Map;et(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,zI(d,p,i[l]))}return r}function m0(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,jI(c,d,e))}return r}class Uh extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GI extends Lh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QI{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&HI(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=ET();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=RT(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((i,r)=>f0(i,r)))&&Eo(this.baseMutations,e.baseMutations,((i,r)=>f0(i,r)))}}class rp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return VI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new rp(e,i,r,l)}}class KI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YI{constructor(e,i){this.count=e,this.unchangedNames=i}}var Bt,Ge;function XI(s){switch(s){case $.OK:return be(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function CT(s){if(s===void 0)return bs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Bt.OK:return $.OK;case Bt.CANCELLED:return $.CANCELLED;case Bt.UNKNOWN:return $.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return $.INTERNAL;case Bt.UNAVAILABLE:return $.UNAVAILABLE;case Bt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Bt.NOT_FOUND:return $.NOT_FOUND;case Bt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Bt.ABORTED:return $.ABORTED;case Bt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Bt.DATA_LOSS:return $.DATA_LOSS;default:return be(39323,{code:s})}}(Ge=Bt||(Bt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function $I(){return new TextEncoder}const ZI=new mr([4294967295,4294967295],0);function p0(s){const e=$I().encode(s),i=new HE;return i.update(e),new Uint8Array(i.digest())}function g0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([i,r],0),new mr([l,c],0)]}class ap{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(mr.fromNumber(r)));return l.compare(ZI)===1&&(l=new mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=p0(e),[r,l]=g0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ap(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=p0(e),[r,l]=g0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new jh(Ae.min(),l,new St(qe),Ss(),He())}}class uu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new uu(r,i,He(),He(),He())}}class nh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class NT{constructor(e,i){this.targetId=e,this.Ce=i}}class xT{constructor(e,i,r=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class y0{constructor(){this.ve=0,this.Fe=_0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:be(38017,{changeType:c})}})),new uu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=_0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=Bc(),this.He=Bc(),this.Ye=new St(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Rm(c))if(r===0){const d=new ye(c.path);this.et(i,d,dn.newNoDocument(d,Ae.min()))}else et(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=_r(r).toUint8Array()}catch(y){if(y instanceof tT)return vo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ap(d,l,c)}catch(y){return vo(y instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Rm(p.target)){const y=new ye(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,dn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=He();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new jh(e,i,this.Ye,this.je,r);return this.je=Ss(),this.Je=Bc(),this.He=Bc(),this.Ye=new St(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new y0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Yt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Yt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new St(ye.comparator)}function _0(){return new St(ye.comparator)}const WI={asc:"ASCENDING",desc:"DESCENDING"},eC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tC={and:"AND",or:"OR"};class nC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nm(s,e){return s.useProto3Json||Dh(e)?e:{value:e}}function vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iC(s,e){return vh(s,e.toTimestamp())}function Hi(s){return et(!!s,49232),Ae.fromTimestamp((function(i){const r=yr(i);return new yt(r.seconds,r.nanos)})(s))}function op(s,e){return xm(s,e).canonicalString()}function xm(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function OT(s){const e=dt.fromString(s);return et(LT(e),10190,{key:e.toString()}),e}function Dm(s,e){return op(s.databaseId,e.path)}function im(s,e){const i=OT(e);if(i.get(1)!==s.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(VT(i))}function MT(s,e){return op(s.databaseId,e)}function sC(s){const e=OT(s);return e.length===4?dt.emptyPath():VT(e)}function Om(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function VT(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function v0(s,e,i){return{name:Dm(s,e),fields:i.value.mapValue.fields}}function rC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(et(b===void 0||typeof b=="string",58123),un.fromBase64String(b||"")):(et(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),un.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:CT(_.code);return new le(b,_.message||"")})(d);i=new xT(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=im(s,r.document.name),c=Hi(r.document.updateTime),d=r.document.createTime?Hi(r.document.createTime):Ae.min(),p=new Rn({mapValue:{fields:r.document.fields}}),y=dn.newFoundDocument(l,c,d,p),_=r.targetIds||[],b=r.removedTargetIds||[];i=new nh(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=im(s,r.document),c=r.readTime?Hi(r.readTime):Ae.min(),d=dn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new nh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=im(s,r.document),c=r.removedTargetIds||[];i=new nh([],c,l,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new YI(l,c),p=r.targetId;i=new NT(p,d)}}return i}function aC(s,e){let i;if(e instanceof lu)i={update:v0(s,e.key,e.value)};else if(e instanceof Uh)i={delete:Dm(s,e.key)};else if(e instanceof wr)i={update:v0(s,e.key,e.data),updateMask:pC(e.fieldMask)};else{if(!(e instanceof GI))return be(16599,{Vt:e.type});i={verify:Dm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof yh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof _h)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:iC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function oC(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Hi(l.updateTime):Hi(c);return d.isEqual(Ae.min())&&(d=Hi(c)),new qI(d,l.transformResults||[])})(i,e)))):[]}function lC(s,e){return{documents:[MT(s,e.path)]}}function uC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=MT(s,l);const c=(function(_){if(_.length!==0)return PT(yi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(D){return{field:co(D.field),direction:fC(D.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Nm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function cC(s){let e=sC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){et(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const D=kT(A);return D instanceof yi&&hT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(W){return new gh(ho(W.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let D;return D=typeof A=="object"?A.value:A,Dh(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(A){const D=!!A.before,G=A.values||[];return new ph(G,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,G=A.values||[];return new ph(G,D)})(i.endAt)),NI(e,l,d,c,p,"F",y,_)}function hC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function kT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ho(i.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ho(i.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ho(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ho(i.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qt.create(ho(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return yi.create(i.compositeFilter.filters.map((r=>kT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function fC(s){return WI[s]}function dC(s){return eC[s]}function mC(s){return tC[s]}function co(s){return{fieldPath:s.canonicalString()}}function ho(s){return ln.fromServerFormat(s.fieldPath)}function PT(s){return s instanceof qt?(function(i){if(i.op==="=="){if(a0(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NAN"}};if(r0(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a0(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NOT_NAN"}};if(r0(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(i.field),op:dC(i.op),value:i.value}}})(s):s instanceof yi?(function(i){const r=i.getFilters().map((l=>PT(l)));return r.length===1?r[0]:{compositeFilter:{op:mC(i.op),filters:r}}})(s):be(54877,{filter:s})}function pC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function LT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class cr{constructor(e,i,r,l,c=Ae.min(),d=Ae.min(),p=un.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gC{constructor(e){this.yt=e}}function yC(s){const e=cC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Cm(e,e.limit,"L"):e}class _C{constructor(){this.Cn=new vC}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(gr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class vC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Yt(dt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Yt(dt.comparator)).toArray()}}const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(UT,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}const T0="LruGarbageCollector",EC=1048576;function b0([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class TC{constructor(e){this.Ir=e,this.buffer=new Yt(b0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();b0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(T0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xo(i)?ce(T0,"Ignoring IndexedDB error during garbage collection: ",i):await No(i)}await this.Vr(3e5)}))}}class SC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(xh.ce);const r=new TC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(E0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),lo()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function AC(s,e){return new SC(s,e)}class wC{constructor(){this.changes=new fa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class IC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Fl(r.mutation,l,zn.empty(),yt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=na();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Pl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=na();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=Ss();const d=Hl(),p=(function(){return Hl()})();return i.forEach(((y,_)=>{const b=r.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof wr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Fl(b.mutation,_,b.mutation.getFieldMask(),yt.now())):d.set(_.key,zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new RC(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Hl();let l=new St(((d,p)=>d-p)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=r.get(y)||zn.empty();b=p.applyToLocalView(_,b),r.set(y,b);const A=(l.get(p.batchId)||He()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=ET();b.forEach((D=>{if(!c.has(D)){const G=RT(i.get(D),r.get(D));G!==null&&A.set(D,G),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):J.resolve(na());let p=Yl,y=c;return d.next((_=>J.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((D=>{y=y.insert(b,D)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,He()))).next((b=>({batchId:p,changes:vT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((r=>{let l=Pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(y=>{const _=(function(A,D){return new ou(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((b=>{b.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,dn.newInvalidDocument(b)))}));let p=Pl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Fl(b.mutation,_,zn.empty(),yt.now()),kh(i,_)&&(p=p.insert(y,_))})),p}))}}class CC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Hi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:yC(l.bundledQuery),readTime:Hi(l.readTime)}})(i)),J.resolve()}}class NC{constructor(){this.overlays=new St(ye.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=na();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const l=na(),c=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new St(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let b=c.get(_.largestBatchId);b===null&&(b=na(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return J.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new KI(i,r));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class xC{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class lp{constructor(){this.Qr=new Yt(Wt.$r),this.Ur=new Yt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Wt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Wt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ye(new dt([])),r=new Wt(i,e),l=new Wt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new dt([])),r=new Wt(i,e),l=new Wt(i,e+1);let c=He();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class DC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Wt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Wt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Yt(qe);return i.forEach((l=>{const c=new Wt(l,0),d=new Wt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new ye(c),0);let p=new Yt(qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Wt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Wt(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OC{constructor(e){this.ri=e,this.docs=(function(){return new St(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let r=Ss();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Ss();const d=i.path,p=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||oI(aI(b),r)<=0||(l.has(b.key)||kh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,l){be(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new MC(this)}getSize(e){return J.resolve(this.size)}}class MC extends wC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class VC{constructor(e){this.persistence=e,this.si=new fa((i=>np(i)),ip),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new lp,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new So(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class jT{constructor(e,i){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new xC,this.referenceDelegate=e(this),this.Pi=new VC(this),this.indexManager=new _C,this.remoteDocumentCache=(function(l){return new OC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gC(i),this.Ii=new CC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new NC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new DC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const l=new kC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class kC extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new lp,this.Vi=null}static mi(e){return new up(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=ye.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Eh{constructor(e,i){this.persistence=e,this.pi=new fa((r=>fI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=AC(this,i)}static mi(e,i){return new Eh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wc(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cp(e,i.fromCache,r,l)}}class PC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dA()?8:cI(mn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new PC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(lo()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",uo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(lo()<=Be.DEBUG&&ce("QueryEngine","Query:",uo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(lo()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",uo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):J.resolve())}ys(e,i){if(c0(i))return J.resolve(null);let r=qi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Cm(i,null,"F"),r=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,Cm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return c0(i)||l.isEqual(Ae.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(lo()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),uo(i)),this.vs(e,d,i,rI(l,Yl)).next((p=>p)))}))}Ds(e,i){let r=new Yt(yT(e));return i.forEach(((l,c)=>{kh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return lo()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",uo(i)),this.ps.getDocumentsMatchingQuery(e,i,gr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hp="LocalStore",UC=3e8;class jC{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new St(qe),this.xs=new fa((c=>np(c)),ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function zC(s,e,i,r){return new jC(s,e,i,r)}async function zT(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=He();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function BC(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,D=A.keys();let G=J.resolve();return D.forEach((W=>{G=G.next((()=>b.getEntry(y,W))).next((oe=>{const ne=_.docVersions.get(W);et(ne!==null,48541),oe.version.compareTo(ne)<0&&(A.applyToRemoteDocument(oe,_),oe.isValidDocument()&&(oe.setReadTime(_.commitVersion),b.addEntry(oe)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=He();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function BT(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function qC(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((b,A)=>{const D=l.get(A);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let G=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?G=G.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,r)),l=l.insert(A,G),(function(oe,ne,pe){return oe.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=UC?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(D,G,b)&&p.push(i.Pi.updateTargetData(c,G))}));let y=Ss(),_=He();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(HC(c,d,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!r.isEqual(Ae.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function HC(s,e,i){let r=He(),l=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ss();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ce(hp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function FC(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GC(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new cr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Mm(s,e,i){const r=Ce(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!xo(d))throw d;ce(hp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function S0(s,e,i){const r=Ce(s);let l=Ae.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Ce(y),D=A.xs.get(b);return D!==void 0?J.resolve(A.Ms.get(D)):A.Pi.getTargetData(_,b)})(r,d,qi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?c:He()))).next((p=>(QC(r,DI(e),p),{documents:p,Qs:c})))))}function QC(s,e,i){let r=s.Os.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class A0{constructor(){this.activeTargetIds=LI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KC{constructor(){this.Mo=new A0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YC{Oo(e){}shutdown(){}}const w0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(w0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Vm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const sm="RestConnection",XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $C{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Vm(),p=this.zo(e,i.toUriEncodedString());ce(sm,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=wo(_);return this.Jo(e,p,y,r,b).then((A=>(ce(sm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw vo(sm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=XC[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class ZC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class JC extends $C{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Vm();return new Promise(((p,y)=>{const _=new FE;_.setWithCredentials(!0),_.listenOnce(GE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Jc.NO_ERROR:const A=_.getResponseJson();ce(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Jc.TIMEOUT:ce(hn,`RPC '${e}' ${d} timed out`),y(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const D=_.getStatus();if(ce(hn,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const oe=(function(pe){const we=pe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(we)>=0?we:$.UNKNOWN})(W.status);y(new le(oe,W.message))}else y(new le($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new le($.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(hn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ce(hn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=Vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=YE(),p=KE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const b=c.join("");ce(hn,`Creating RPC '${e}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let D=!1,G=!1;const W=new ZC({Yo:ne=>{G?ce(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,ne):(D||(ce(hn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),D=!0),ce(hn,`RPC '${e}' stream ${l} sending:`,ne),A.send(ne))},Zo:()=>A.close()}),oe=(ne,pe,we)=>{ne.listen(pe,(ve=>{try{we(ve)}catch(Qe){setTimeout((()=>{throw Qe}),0)}}))};return oe(A,kl.EventType.OPEN,(()=>{G||(ce(hn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),oe(A,kl.EventType.CLOSE,(()=>{G||(G=!0,ce(hn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(A))})),oe(A,kl.EventType.ERROR,(ne=>{G||(G=!0,vo(hn,`RPC '${e}' stream ${l} transport errored. Name:`,ne.name,"Message:",ne.message),W.a_(new le($.UNAVAILABLE,"The operation could not be completed")))})),oe(A,kl.EventType.MESSAGE,(ne=>{if(!G){const pe=ne.data[0];et(!!pe,16349);const we=pe,ve=we?.error||we[0]?.error;if(ve){ce(hn,`RPC '${e}' stream ${l} received error:`,ve);const Qe=ve.status;let tt=(function(w){const C=Bt[w];if(C!==void 0)return CT(C)})(Qe),Ne=ve.message;tt===void 0&&(tt=$.INTERNAL,Ne="Unknown error status: "+Qe+" with message "+ve.message),G=!0,W.a_(new le(tt,Ne)),A.close()}else ce(hn,`RPC '${e}' stream ${l} received:`,pe),W.u_(pe)}})),oe(p,QE.STAT_EVENT,(ne=>{ne.stat===Tm.PROXY?ce(hn,`RPC '${e}' stream ${l} detected buffering proxy`):ne.stat===Tm.NOPROXY&&ce(hn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function rm(){return typeof document<"u"?document:null}function zh(s){return new nC(s,!0)}class qT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const I0="PersistentStream";class HT{constructor(e,i,r,l,c,d,p,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new le($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WC extends HT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=rC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Hi(d.readTime):Ae.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Om(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Rm(y)?{documents:lC(c,y)}:{query:uC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=DT(c,d.resumeToken);const _=Nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=vh(c,d.snapshotVersion.toTimestamp());const _=Nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=hC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Om(this.serializer),i.removeTarget=e,this.q_(i)}}class eN extends HT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=oC(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Om(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>aC(this.serializer,r)))};this.q_(i)}}class tN{}class nN extends tN{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,xm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le($.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,xm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class sN{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{da(this)&&(ce(ca,"Restarting streams for network reachability change."),await(async function(y){const _=Ce(y);_.Ea.add(4),await cu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bh(_)})(this))}))})),this.Ra=new iN(r,l)}}async function Bh(s){if(da(s))for(const e of s.da)await e(!0)}async function cu(s){for(const e of s.da)await e(!1)}function FT(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pp(i)?mp(i):Do(i).O_()&&dp(i,e))}function fp(s,e){const i=Ce(s),r=Do(i);i.Ia.delete(e),r.O_()&&GT(i,e),i.Ia.size===0&&(r.O_()?r.L_():da(i)&&i.Ra.set("Unknown"))}function dp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Do(s).Y_(e)}function GT(s,e){s.Va.Ue(e),Do(s).Z_(e)}function mp(s){s.Va=new JI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Do(s).start(),s.Ra.ua()}function pp(s){return da(s)&&!Do(s).x_()&&s.Ia.size>0}function da(s){return Ce(s).Ea.size===0}function QT(s){s.Va=void 0}async function rN(s){s.Ra.set("Online")}async function aN(s){s.Ia.forEach(((e,i)=>{dp(s,e)}))}async function oN(s,e){QT(s),pp(s)?(s.Ra.ha(e),mp(s)):s.Ra.set("Unknown")}async function lN(s,e,i){if(s.Ra.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){ce(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(s,r)}else if(e instanceof nh?s.Va.Ze(e):e instanceof NT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ae.min()))try{const r=await BT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(un.EMPTY_BYTE_STRING,b.snapshotVersion)),GT(c,y);const A=new cr(b.target,y,_,b.sequenceNumber);dp(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ce(ca,"Failed to raise snapshot:",r),await Th(s,r)}}async function Th(s,e,i){if(!xo(e))throw e;s.Ea.add(1),await cu(s),s.Ra.set("Offline"),i||(i=()=>BT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ca,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Bh(s)}))}function KT(s,e){return e().catch((i=>Th(s,i,e)))}async function qh(s){const e=Ce(s),i=Er(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;uN(e);)try{const l=await FC(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,cN(e,l)}catch(l){await Th(e,l)}YT(e)&&XT(e)}function uN(s){return da(s)&&s.Ta.length<10}function cN(s,e){s.Ta.push(e);const i=Er(s);i.O_()&&i.X_&&i.ea(e.mutations)}function YT(s){return da(s)&&!Er(s).x_()&&s.Ta.length>0}function XT(s){Er(s).start()}async function hN(s){Er(s).ra()}async function fN(s){const e=Er(s);for(const i of s.Ta)e.ea(i.mutations)}async function dN(s,e,i){const r=s.Ta.shift(),l=rp.from(r,e,i);await KT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await qh(s)}async function mN(s,e){e&&Er(s).X_&&await(async function(r,l){if((function(d){return XI(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();Er(r).B_(),await KT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await qh(r)}})(s,e),YT(s)&&XT(s)}async function C0(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(ca,"RemoteStore received new credentials");const r=da(i);i.Ea.add(3),await cu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Bh(i)}async function pN(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Bh(i)):e||(i.Ea.add(2),await cu(i),i.Ra.set("Unknown"))}function Do(s){return s.ma||(s.ma=(function(i,r,l){const c=Ce(i);return c.sa(),new WC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:rN.bind(null,s),t_:aN.bind(null,s),r_:oN.bind(null,s),H_:lN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Ra.set("Unknown")):(await s.ma.stop(),QT(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(i,r,l){const c=Ce(i);return c.sa(),new eN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:hN.bind(null,s),r_:mN.bind(null,s),ta:fN.bind(null,s),na:dN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await qh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new gp(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(bs("AsyncQueue",`${e}: ${s}`),xo(s))return new le($.UNAVAILABLE,`${e}: ${s}`);throw s}class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ye.comparator(i.key,r.key):(i,r)=>ye.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class N0{constructor(){this.ga=new St(ye.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ao{constructor(e,i,r,l,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ao(e,i,yo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class gN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yN{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),c=l.queries;l.queries=x0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function x0(){return new fa((s=>gT(s)),Vh)}async function _p(s,e){const i=Ce(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new gN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yp(d,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ep(i)}async function vp(s,e){const i=Ce(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _N(s,e){const i=Ce(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Ep(i)}function vN(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function Ep(s){s.Ca.forEach((e=>{e.next()}))}var km,D0;(D0=km||(km={})).Ma="default",D0.Cache="cache";class Tp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class $T{constructor(e){this.key=e}}class ZT{constructor(e){this.key=e}}class EN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=yT(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new N0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const D=l.get(b),G=kh(this.query,A)?A:null,W=!!D&&this.mutatedKeys.has(D.key),oe=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ne=!1;D&&G?D.data.isEqual(G.data)?W!==oe&&(r.track({type:3,doc:G}),ne=!0):this.su(D,G)||(r.track({type:2,doc:G}),ne=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!D&&G?(r.track({type:0,doc:G}),ne=!0):D&&!G&&(r.track({type:1,doc:D}),ne=!0,(y||_)&&(p=!0)),ne&&(G?(d=d.add(G),c=oe?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(G,W){const oe=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:ne})}};return oe(G)-oe(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Ao(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new ZT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new $T(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bp="SyncEngine";class TN{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class bN{constructor(e){this.key=e,this.hu=!1}}class SN{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((p=>gT(p)),Vh),this.Iu=new Map,this.Eu=new Set,this.du=new St(ye.comparator),this.Au=new Map,this.Ru=new lp,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AN(s,e,i=!0){const r=i1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await JT(r,e,i,!0),l}async function wN(s,e){const i=i1(s);await JT(i,e,!0,!1)}async function JT(s,e,i,r){const l=await GC(s.localStore,qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await RN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&FT(s.remoteStore,l),p}async function RN(s,e,i,r,l){s.pu=(A,D,G)=>(async function(oe,ne,pe,we){let ve=ne.view.ru(pe);ve.Cs&&(ve=await S0(oe.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,ve))));const Qe=we&&we.targetChanges.get(ne.targetId),tt=we&&we.targetMismatches.get(ne.targetId)!=null,Ne=ne.view.applyChanges(ve,oe.isPrimaryClient,Qe,tt);return M0(oe,ne.targetId,Ne.au),Ne.snapshot})(s,A,D,G);const c=await S0(s.localStore,e,!0),d=new EN(e,c.Qs),p=d.ru(c.documents),y=uu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);M0(s,i,_.au);const b=new TN(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function IN(s,e,i){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Vh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&fp(r.remoteStore,l.targetId),Pm(r,l.targetId)})).catch(No)):(Pm(r,l.targetId),await Mm(r.localStore,l.targetId,!0))}async function CN(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),fp(i.remoteStore,r.targetId))}async function NN(s,e,i){const r=PN(s);try{const l=await(function(d,p){const y=Ce(d),_=yt.now(),b=p.reduce(((G,W)=>G.add(W.key)),He());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=Ss(),oe=He();return y.Ns.getEntries(G,b).next((ne=>{W=ne,W.forEach(((pe,we)=>{we.isValidDocument()||(oe=oe.add(pe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,W))).next((ne=>{A=ne;const pe=[];for(const we of p){const ve=FI(we,A.get(we.key).overlayedDocument);ve!=null&&pe.push(new wr(we.key,ve,lT(ve.value.mapValue),Cn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,pe,p)})).next((ne=>{D=ne;const pe=ne.applyToLocalDocumentSet(A,oe);return y.documentOverlayCache.saveOverlays(G,ne.batchId,pe)}))})).then((()=>({batchId:D.batchId,changes:vT(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new St(qe)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await hu(r,l.changes),await qh(r.remoteStore)}catch(l){const c=yp(l,"Failed to persist write");i.reject(c)}}async function WT(s,e){const i=Ce(s);try{const r=await qC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await hu(i,r,e)}catch(r){await No(r)}}function O0(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Ce(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const D of A.Sa)D.va(p)&&(_=!0)})),_&&Ep(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xN(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new St(ye.comparator);d=d.insert(c,dn.newNoDocument(c,Ae.min()));const p=He().add(c),y=new jh(Ae.min(),new Map,new St(qe),d,p);await WT(r,y),r.du=r.du.remove(c),r.Au.delete(e),Sp(r)}else await Mm(r.localStore,e,!1).then((()=>Pm(r,e,i))).catch(No)}async function DN(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await BC(i.localStore,e);t1(i,r,null),e1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await hu(i,l)}catch(l){await No(l)}}async function ON(s,e,i){const r=Ce(s);try{const l=await(function(d,p){const y=Ce(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(et(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(r.localStore,e);t1(r,e,i),e1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await hu(r,l)}catch(l){await No(l)}}function e1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function t1(s,e,i){const r=Ce(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||n1(s,r)}))}function n1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(fp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Sp(s))}function M0(s,e,i){for(const r of i)r instanceof $T?(s.Ru.addReference(r.key,e),MN(s,r)):r instanceof ZT?(ce(bp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||n1(s,r.key)):be(19791,{wu:r})}function MN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ce(bp,"New document in limbo: "+i),s.Eu.add(r),Sp(s))}function Sp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new bN(i)),s.du=s.du.insert(i,r),FT(s.remoteStore,new cr(qi(Mh(i.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function hu(s,e,i){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=cp.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const b=Ce(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(D=>J.forEach(D.Es,(G=>b.persistence.referenceDelegate.addReference(A,D.targetId,G))).next((()=>J.forEach(D.ds,(G=>b.persistence.referenceDelegate.removeReference(A,D.targetId,G)))))))))}catch(A){if(!xo(A))throw A;ce(hp,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const G=b.Ms.get(D),W=G.snapshotVersion,oe=G.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(D,oe)}}})(r.localStore,c))}async function VN(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(bp,"User change. New user:",e.toKey());const r=await zT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new le($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(i,r.Ls)}}function kN(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function i1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xN.bind(null,e),e.Pu.H_=_N.bind(null,e.eventManager),e.Pu.yu=vN.bind(null,e.eventManager),e}function PN(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zC(this.persistence,new LC,e.initialUser,this.serializer)}Cu(e){return new jT(up.mi,this.serializer)}Du(e){return new KC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class LN extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new jT((r=>Eh.mi(r,i)),this.serializer)}}class Lm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yN})()}createDatastore(e){const i=zh(e.databaseInfo.databaseId),r=(function(c){return new JC(c)})(e.databaseInfo);return(function(c,d,p,y){return new nN(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new sN(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>O0(this.syncEngine,i,0)),(function(){return R0.v()?new R0:new YC})())}createSyncEngine(e,i){return(function(l,c,d,p,y,_,b){const A=new SN(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ce(ca,"RemoteStore shutting down."),r.Ea.add(5),await cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Tr="FirestoreClient";class UN{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ce(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=yp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function am(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function V0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await jN(s);ce(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>C0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>C0(e.remoteStore,l))),s._onlineComponents=e}async function jN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Tr,"Using user provided OfflineComponentProvider");try{await am(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;vo("Error using user provided cache. Falling back to memory cache: "+i),await am(s,new bh)}}else ce(Tr,"Using default OfflineComponentProvider"),await am(s,new LN(void 0));return s._offlineComponents}async function s1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Tr,"Using user provided OnlineComponentProvider"),await V0(s,s._uninitializedComponentsProvider._online)):(ce(Tr,"Using default OnlineComponentProvider"),await V0(s,new Lm))),s._onlineComponents}function zN(s){return s1(s).then((e=>e.syncEngine))}async function Sh(s){const e=await s1(s),i=e.eventManager;return i.onListen=AN.bind(null,e.syncEngine),i.onUnlisten=IN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=wN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=CN.bind(null,e.syncEngine),i}function BN(s,e,i={}){const r=new vs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new Ap({next:D=>{b.Nu(),d.enqueueAndForget((()=>vp(c,A)));const G=D.docs.has(p);!G&&D.fromCache?_.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&D.fromCache&&y&&y.source==="server"?_.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new Tp(Mh(p.path),b,{includeMetadataChanges:!0,qa:!0});return _p(c,A)})(await Sh(s),s.asyncQueue,e,i,r))),r.promise}function qN(s,e,i={}){const r=new vs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new Ap({next:D=>{b.Nu(),d.enqueueAndForget((()=>vp(c,A))),D.fromCache&&y.source==="server"?_.reject(new le($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new Tp(p,b,{includeMetadataChanges:!0,qa:!0});return _p(c,A)})(await Sh(s),s.asyncQueue,e,i,r))),r.promise}function r1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const k0=new Map;const a1="firestore.googleapis.com",P0=!0;class L0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=P0}else this.host=e.host,this.ssl=e.ssl??P0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EC)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YR;switch(r.type){case"firstParty":return new JR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=k0.get(i);r&&(ce("ComponentProvider","Removing Datastore"),k0.delete(i),r.terminate())})(this),Promise.resolve()}}function HN(s,e,i,r={}){s=In(s,Hh);const l=wo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(tE(`https://${p}`),nE("Firestore",!0)),c.host!==a1&&c.host!==p&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!ra(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,b;if(typeof r.mockUserToken=="string")_=r.mockUserToken,b=fn.MOCK_USER;else{_=sA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new fn(A)}s._authCredentials=new XR(new $E(_,b))}}class ma{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class It{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(au(i,It._jsonSchema))return new It(e,r||null,new ye(dt.fromString(i.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Ht("string",It._jsonSchemaVersion),referencePath:Ht("string")};class pr extends ma{constructor(e,i,r){super(e,i,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ye(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function Hc(s,e,...i){if(s=Mt(s),ZE("collection","path",e),s instanceof Hh){const r=dt.fromString(e,...i);return $v(r),new pr(s,null,r)}{if(!(s instanceof It||s instanceof pr))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return $v(r),new pr(s.firestore,null,r)}}function ft(s,e,...i){if(s=Mt(s),arguments.length===1&&(e=Jm.newId()),ZE("doc","path",e),s instanceof Hh){const r=dt.fromString(e,...i);return Xv(r),new It(s,null,new ye(r))}{if(!(s instanceof It||s instanceof pr))throw new le($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return Xv(r),new It(s.firestore,s instanceof pr?s.converter:null,new ye(r))}}const U0="AsyncQueue";class j0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&ce(U0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=rm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=rm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;ce(U0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=gp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function B0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class As extends Hh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new j0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j0(e),this._firestoreClient=void 0,await e}}}function FN(s,e){const i=typeof s=="object"?s:aE(),r=typeof s=="string"?s:dh,l=qm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=nA("firestore");c&&HN(l,...c)}return l}function fu(s){if(s._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GN(s),s._firestoreClient}function GN(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new pI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,r1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new UN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(un.fromBase64String(e))}catch(i){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ii(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Ht("string",ii._jsonSchemaVersion),bytes:Ht("string")};class du{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wp{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ht("string",Fi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class Gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gi(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ht("string",Gi._jsonSchemaVersion),vectorValues:Ht("object")};const QN=/^__.*__$/;class KN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class o1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function l1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:s})}}class Rp{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l1(this.Ac)&&QN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||zh(e)}Cc(e,i,r,l=!1){return new Rp({Ac:e,methodName:i,Dc:r,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(s){const e=s._freezeSettings(),i=zh(s._databaseId);return new YN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function u1(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);Ip("Data must be an object, but it was:",d,r);const p=f1(r,d);let y,_;if(c.merge)y=new zn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const D=Um(e,A,i);if(!d.contains(D))throw new le($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);m1(b,D)||b.push(D)}y=new zn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new KN(new Rn(p),y,_)}class Gh extends wp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function c1(s,e,i,r){const l=s.Cc(1,e,i);Ip("Data must be an object, but it was:",l,r);const c=[],d=Rn.empty();Ar(r,((y,_)=>{const b=Cp(e,y,i);_=Mt(_);const A=l.yc(b);if(_ instanceof Gh)c.push(b);else{const D=mu(_,A);D!=null&&(c.push(b),d.set(b,D))}}));const p=new zn(c);return new o1(d,p,l.fieldTransforms)}function h1(s,e,i,r,l,c){const d=s.Cc(1,e,i),p=[Um(e,r,i)],y=[l];if(c.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(Um(e,c[D])),y.push(c[D+1]);const _=[],b=Rn.empty();for(let D=p.length-1;D>=0;--D)if(!m1(_,p[D])){const G=p[D];let W=y[D];W=Mt(W);const oe=d.yc(G);if(W instanceof Gh)_.push(G);else{const ne=mu(W,oe);ne!=null&&(_.push(G),b.set(G,ne))}}const A=new zn(_);return new o1(b,A,d.fieldTransforms)}function XN(s,e,i,r=!1){return mu(i,s.Cc(r?4:3,e))}function mu(s,e){if(d1(s=Mt(s)))return Ip("Unsupported field value:",e,s),f1(s,e);if(s instanceof wp)return(function(r,l){if(!l1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=mu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=yt.fromDate(r);return{timestampValue:vh(l.serializer,c)}}if(r instanceof yt){const c=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(l.serializer,c)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:DT(l.serializer,r._byteString)};if(r instanceof It){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:op(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Gi)return(function(d,p){return{mapValue:{fields:{[aT]:{stringValue:oT},[mh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return sp(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Nh(r)}`)})(s,e)}function f1(s,e){const i={};return eT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(s,((r,l)=>{const c=mu(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function d1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof Fi||s instanceof ii||s instanceof It||s instanceof wp||s instanceof Gi)}function Ip(s,e,i){if(!d1(i)||!JE(i)){const r=Nh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Um(s,e,i){if((e=Mt(e))instanceof du)return e._internalPath;if(typeof e=="string")return Cp(s,e);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,i)}const $N=new RegExp("[~\\*/\\[\\]]");function Cp(s,e,i){if(e.search($N)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new du(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ah(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new le($.INVALID_ARGUMENT,p+s+y)}function m1(s,e){return s.some((i=>i.isEqual(e)))}class p1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Np("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZN extends p1{data(){return super.data()}}function Np(s,e){return typeof e=="string"?Cp(s,e):e instanceof du?e._internalPath:e._delegate._internalPath}function g1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class JN extends xp{}function om(s,e,...i){let r=[];e instanceof xp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof Dp)).length,p=c.filter((y=>y instanceof Qh)).length;if(d>1||d>0&&p>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Qh extends JN{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Qh(e,i,r)}_apply(e){const i=this._parse(e);return y1(e._query,i),new ma(e.firestore,e.converter,Im(e._query,i))}_parse(e){const i=Fh(e.firestore);return(function(c,d,p,y,_,b,A){let D;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){H0(A,b);const W=[];for(const oe of A)W.push(q0(y,c,oe));D={arrayValue:{values:W}}}else D=q0(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||H0(A,b),D=XN(p,d,A,b==="in"||b==="not-in");return qt.create(_,b,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function lm(s,e,i){const r=e,l=Np("where",s);return Qh._create(l,r,i)}class Dp extends xp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Dp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:yi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)y1(d,y),d=Im(d,y)})(e._query,i),new ma(e.firestore,e.converter,Im(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q0(s,e,i){if(typeof(i=Mt(i))=="string"){if(i==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(e)&&i.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(dt.fromString(i));if(!ye.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s0(s,new ye(r))}if(i instanceof It)return s0(s,i._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(i)}.`)}function H0(s,e){if(!Array.isArray(s)||s.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y1(s,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class WN{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ar(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[mh].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Gi(i)}convertGeoPoint(e){return new Fi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Oh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);et(LT(r),9688,{name:e});const l=new $l(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return l.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function _1(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends p1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Ht("string",ia._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class ih extends ia{data(e={}){return super.data(e)}}class sa{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ul(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ih(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:ex(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ex(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}function F0(s){s=In(s,It);const e=In(s.firestore,As);return BN(fu(e),s._key).then((i=>v1(e,s,i)))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Ht("string",sa._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Op extends WN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,i)}}function tx(s){s=In(s,ma);const e=In(s.firestore,As),i=fu(e),r=new Op(e);return g1(s._query),qN(i,s._query).then((l=>new sa(e,r,s,l)))}function oo(s,e,i){s=In(s,It);const r=In(s.firestore,As),l=_1(s.converter,e,i);return Kh(r,[u1(Fh(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Cn.none())])}function jn(s,e,i,...r){s=In(s,It);const l=In(s.firestore,As),c=Fh(l);let d;return d=typeof(e=Mt(e))=="string"||e instanceof du?h1(c,"updateDoc",s._key,e,i,r):c1(c,"updateDoc",s._key,e),Kh(l,[d.toMutation(s._key,Cn.exists(!0))])}function G0(s){return Kh(In(s.firestore,As),[new Uh(s._key,Cn.none())])}function Fc(s,...e){s=Mt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||B0(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B0(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof It)d=In(s.firestore,As),p=Mh(s._key.path),c={next:y=>{e[r]&&e[r](v1(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=In(s,ma);d=In(y.firestore,As),p=y._query;const _=new Op(d);c={next:b=>{e[r]&&e[r](new sa(d,_,y,b))},error:e[r+1],complete:e[r+2]},g1(s._query)}return(function(_,b,A,D){const G=new Ap(D),W=new Tp(b,G,A);return _.asyncQueue.enqueueAndForget((async()=>_p(await Sh(_),W))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>vp(await Sh(_),W)))}})(fu(d),p,l,c)}function Kh(s,e){return(function(r,l){const c=new vs;return r.asyncQueue.enqueueAndForget((async()=>NN(await zN(r),l,c))),c.promise})(fu(s),e)}function v1(s,e,i){const r=i.docs.get(e._key),l=new Op(s);return new ia(s,l,e._key,r,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}class nx{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Fh(e)}set(e,i,r){this._verifyNotCommitted();const l=um(e,this._firestore),c=_1(l.converter,i,r),d=u1(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,Cn.none())),this}update(e,i,r,...l){this._verifyNotCommitted();const c=um(e,this._firestore);let d;return d=typeof(i=Mt(i))=="string"||i instanceof du?h1(this._dataReader,"WriteBatch.update",c._key,i,r,l):c1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=um(e,this._firestore);return this._mutations=this._mutations.concat(new Uh(i._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function um(s,e){if((s=Mt(s)).firestore!==e)throw new le($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Q0(s){return fu(s=In(s,As)),new nx(s,(e=>Kh(s,e)))}(function(e,i=!0){(function(l){Co=l})(Ro),_o(new aa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new As(new $R(r.getProvider("auth-internal")),new WR(d,r.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),dr(Gv,Qv,e),dr(Gv,Qv,"esm2020")})();const ix={apiKey:"AIzaSyBuq1tHxrV8sikf78yWP7cvtrijZZz0KJQ",authDomain:"fivestar-398be.firebaseapp.com",projectId:"fivestar-398be",storageBucket:"fivestar-398be.firebasestorage.app",messagingSenderId:"230644568836",appId:"1:230644568836:web:8bcd907a4985d54be53651"},E1=rE(ix),Gc=QR(E1),Ke=FN(E1),We=typeof __app_id<"u"?__app_id:"default-app-id",cm="d52p16hr01qggm5t4cegd52p16hr01qggm5t4cf0",hm="https://i.postimg.cc/WpxKS20L/5star.png",K0=s=>new Promise(e=>setTimeout(e,s)),Qc=({children:s,className:e="",onClick:i})=>S.jsx("div",{onClick:i,className:`bg-slate-800 border border-slate-700 rounded-xl shadow-lg overflow-hidden ${e}`,children:s}),Kc=({url:s,name:e,size:i="md",onClick:r})=>{const l={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg",xl:"w-32 h-32 text-2xl"},c=s?S.jsx("img",{src:s,alt:e,className:`rounded-full object-cover border-2 border-slate-700 ${l[i]} ${r?"cursor-pointer hover:border-emerald-500 transition-colors":""}`}):S.jsx("div",{className:`rounded-full bg-slate-700 flex items-center justify-center font-bold text-slate-300 border-2 border-slate-600 ${l[i]} ${r?"cursor-pointer hover:border-emerald-500 transition-colors":""}`,children:e?e.charAt(0).toUpperCase():"?"});return r?S.jsx("div",{onClick:r,children:c}):c};function sx(){const[s,e]=Pe.useState(null),[i,r]=Pe.useState([]),[l,c]=Pe.useState(null),[d,p]=Pe.useState(null),[y,_]=Pe.useState([]),[b,A]=Pe.useState([]),[D,G]=Pe.useState("dashboard"),[W,oe]=Pe.useState(null),[ne,pe]=Pe.useState(!1),[we,ve]=Pe.useState(!1),[Qe,tt]=Pe.useState(null),[Ne,N]=Pe.useState(""),[w,C]=Pe.useState(!1),[k,M]=Pe.useState(""),[L,R]=Pe.useState(""),[rt,Et]=Pe.useState(!1),[F,ee]=Pe.useState(!1),[de,Le]=Pe.useState(""),[Ye,V]=Pe.useState(""),[K,ae]=Pe.useState(""),[ue,Se]=Pe.useState(""),[Re,Ue]=Pe.useState(!0),[mt,ct]=Pe.useState(""),[_i,Rs]=Pe.useState(""),[vi,Ki]=Pe.useState(""),[Xt,Rr]=Pe.useState({});Pe.useEffect(()=>V2(Gc,async Y=>{if(e(Y),Y){const te=await F0(ft(Ke,"artifacts",We,"public","data","users",Y.uid));te.exists()&&(Et(!0),N(te.data().name))}else r([]),c(null),p(null),Et(!1)}),[]),Pe.useEffect(()=>{if(!s||!rt)return;const x=om(Hc(Ke,"artifacts",We,"public","data","league_players"),lm("userId","==",s.uid));return Fc(x,te=>{const se=te.docs.map(ie=>ie.data());r(se),se.length>0&&!l&&c(se[0])})},[s,rt]),Pe.useEffect(()=>{if(!l)return;const x=ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),Y=Fc(x,ie=>{ie.exists()?(p(ie.data()),vi||Ki(ie.data().name)):(p(null),c(null),_([]),G("dashboard"))}),te=om(Hc(Ke,"artifacts",We,"public","data","league_players"),lm("leagueId","==",l.leagueId)),se=Fc(te,ie=>{const me=ie.docs.map(Oe=>({...Oe.data(),id:Oe.id}));_(me);const _e=me.find(Oe=>Oe.userId===s.uid);_e&&c(_e)});return()=>{Y(),se()}},[l?.leagueId]),Pe.useEffect(()=>{const x=Hc(Ke,"artifacts",We,"public","data","stocks");return Fc(x,te=>{const se=te.docs.map(ie=>ie.data());A(se)})},[]);const Bn=async()=>{if(b.length===0)return;const x={...Xt},Y=new Date,te=new Date(Y.getFullYear(),Y.getMonth(),1),se=Math.floor(te.getTime()/1e3),ie=Math.floor(Y.getTime()/1e3);for(const me of b)try{await K0(200);const Oe=await(await fetch(`https://finnhub.io/api/v1/quote?symbol=${me.id}&token=${cm}`)).json();let Qt=x[me.id]?.monthOpen;if(!Qt||Qt===Oe.pc){await K0(200);const si=await(await fetch(`https://finnhub.io/api/v1/stock/candle?symbol=${me.id}&resolution=D&from=${se}&to=${ie}&token=${cm}`)).json();si.s==="ok"&&si.o?.length>0?Qt=si.o[0]:Qt=Oe.pc}Oe.c&&(x[me.id]={c:Oe.c,monthOpen:Qt})}catch(_e){console.error(_e)}Rr(x)};Pe.useEffect(()=>{if(!s)return;Bn();const x=setInterval(Bn,6e4);return()=>clearInterval(x)},[s,b.length]);const Ir=async x=>{x.preventDefault(),ee(!0);try{if(w){if(!Ne)throw new Error("Name required.");const Y=await x2(Gc,k,L);await oo(ft(Ke,"artifacts",We,"public","data","users",Y.user.uid),{name:Ne,email:k})}else await D2(Gc,k,L)}catch(Y){alert(Y.message)}ee(!1)},Cr=async x=>{x.preventDefault(),ee(!0);const Y=Math.floor(1e5+Math.random()*9e5).toString();try{await oo(ft(Ke,"artifacts",We,"public","data","leagues",Y),{id:Y,name:ue,adminUid:s.uid,month:4,activeStockIds:["AAPL","MSFT","TSLA","NVDA"],status:"drafting",schedule:{},matchups:[],startingPrices:{},createdAt:Date.now()});const te=`${Y}_${s.uid}`,se={userId:s.uid,leagueId:Y,leagueName:ue,name:Ne||s.email?.split("@")[0]||"Player",isAdmin:!0,isPlayer:Re,roster:[],cash:0,wins:0,losses:0,points:0,avatar:""};await oo(ft(Ke,"artifacts",We,"public","data","league_players",te),se),c(se),pe(!1)}catch(te){alert(te.message)}ee(!1)},At=async x=>{x.preventDefault(),ee(!0);try{const Y=await F0(ft(Ke,"artifacts",We,"public","data","leagues",K));if(!Y.exists())throw new Error("League not found");const te=Y.data(),se=`${K}_${s.uid}`,ie={userId:s.uid,leagueId:K,leagueName:te.name,name:Ne||s.email?.split("@")[0]||"Player",isAdmin:!1,isPlayer:!0,roster:[],cash:0,wins:0,losses:0,points:0,avatar:""};await oo(ft(Ke,"artifacts",We,"public","data","league_players",se),ie),c(ie),ae(""),pe(!1)}catch(Y){alert(Y.message)}ee(!1)},Ct=x=>{const Y=x.target.files[0];if(!Y)return;if(Y.size>5e5)return alert("File too large. Max 500KB.");const te=new FileReader;te.onloadend=()=>{V(te.result)},te.readAsDataURL(Y)},Ei=async x=>{if(x.preventDefault(),!!Ne.trim()){ee(!0);try{await oo(ft(Ke,"artifacts",We,"public","data","users",s.uid),{name:Ne,createdAt:Date.now()}),Et(!0)}catch(Y){alert(Y.message)}ee(!1)}},Oo=async x=>{if(x.preventDefault(),!l||!de.trim())return;const Y=`${l.leagueId}_${s.uid}`;await jn(ft(Ke,"artifacts",We,"public","data","league_players",Y),{name:de,avatar:Ye||l.avatar||""}),ve(!1)},pa=async()=>{if(l?.isAdmin&&confirm("Are you sure you want to PERMANENTLY DELETE this league? This action cannot be undone.")){ee(!0);try{await G0(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId));const x=Q0(Ke),Y=om(Hc(Ke,"artifacts",We,"public","data","league_players"),lm("leagueId","==",l.leagueId));(await tx(Y)).forEach(se=>x.delete(se.ref)),await x.commit(),r(se=>se.filter(ie=>ie.leagueId!==l.leagueId)),c(null),p(null),G("dashboard")}catch(x){alert("Error deleting league: "+x.message)}ee(!1)}},en=async x=>{if(x.preventDefault(),!mt)return;ee(!0);let Y=mt;try{const ie=await(await fetch(`https://finnhub.io/api/v1/search?q=${mt}&token=${cm}`)).json();ie.result&&ie.result.length>0&&(Y=ie.result[0].description)}catch(se){console.error("Could not fetch name",se)}const te=mt.toUpperCase();await oo(ft(Ke,"artifacts",We,"public","data","stocks",te),{id:te,name:Y,sector:"Unknown"}),ct(""),ee(!1),alert(`Added ${te}: ${Y}`)},Yi=async x=>{l?.isAdmin&&confirm(`Delete ${x} from the master pool?`)&&await G0(ft(Ke,"artifacts",We,"public","data","stocks",x))},Nr=async x=>{if(!l?.isPlayer)return;const Y=l.roster||[];if(Y.find(se=>se.id===x))return alert("Already owned!");if(Y.length>=5)return alert("Roster full!");const te=ft(Ke,"artifacts",We,"public","data","league_players",`${l.leagueId}_${s.uid}`);await jn(te,{roster:[...Y,{id:x,shares:0}]})},xr=async(x,Y)=>{if(!l?.isPlayer)return;const te=parseFloat(Y);if(isNaN(te)||te<0)return;const ie=(l.roster||[]).map(_e=>_e.id===x?{..._e,shares:te}:_e),me=ft(Ke,"artifacts",We,"public","data","league_players",`${l.leagueId}_${s.uid}`);await jn(me,{roster:ie})},Ti=async x=>{if(!l?.isPlayer)return;const Y=parseFloat(x);if(isNaN(Y)||Y<0)return;const te=ft(Ke,"artifacts",We,"public","data","league_players",`${l.leagueId}_${s.uid}`);await jn(te,{cash:Y})},Mo=async x=>{const Y=l.roster.filter(se=>se.id!==x),te=ft(Ke,"artifacts",We,"public","data","league_players",`${l.leagueId}_${s.uid}`);await jn(te,{roster:Y})},ga=async x=>{if(!l?.isAdmin)return;const Y=d.startingPrices?.[x]||0,te=prompt(`Update Base Price for ${x}`,Y);if(te===null)return;const se=parseFloat(te);if(isNaN(se))return alert("Invalid Price");const ie={...d.startingPrices,[x]:se};await jn(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{startingPrices:ie})},ya=async x=>{if(!d||!l?.isAdmin)return;const Y=d.activeStockIds||[];let te=Y.includes(x)?Y.filter(se=>se!==x):[...Y,x];await jn(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{activeStockIds:te})},Xi=(x,Y,te,se)=>{let ie=parseFloat(Y)||0;x&&Array.isArray(x)&&x.forEach(_e=>{const Oe=parseFloat(_e.shares)||0,Qt=Xt[_e.id]?.c||te[_e.id]||0;ie+=Oe*Qt});let me=0;return se!=null&&se!==""?me=parseFloat(se):(me=parseFloat(Y)||0,x&&Array.isArray(x)&&x.forEach(_e=>{const Oe=parseFloat(_e.shares)||0,Qt=te[_e.id]||1;me+=Oe*Qt})),me===0?0:(ie-me)/me*100},Nn=()=>{const x=y.filter(se=>se.isPlayer),Y={};return[4,5,6,7,8,9,10,11].forEach(se=>{const ie=[...x].sort(()=>.5-Math.random()),me=[];for(let _e=0;_e<ie.length;_e+=2)_e+1<ie.length?me.push({p1:ie[_e].userId,p2:ie[_e+1].userId,p1Name:ie[_e].name,p2Name:ie[_e+1].name,p1Score:0,p2Score:0}):me.push({p1:ie[_e].userId,p2:"BYE",p1Name:ie[_e].name,p2Name:"Bye Week",p1Score:0,p2Score:0});Y[se]=me}),Y},Gt=()=>{const x=[...y].filter(te=>te.isPlayer).sort((te,se)=>se.wins-te.wins||se.points-te.points),Y=[];x.length>=2&&Y.push({p1:x[0].userId,p2:x[1].userId,p1Name:x[0].name,p2Name:x[1].name,p1Score:0,p2Score:0,type:"Championship"}),x.length>=4?Y.push({p1:x[2].userId,p2:x[3].userId,p1Name:x[2].name,p2Name:x[3].name,p1Score:0,p2Score:0,type:"Consolation"}):x.length===3&&Y.push({p1:x[2].userId,p2:"BYE",p1Name:x[2].name,p2Name:"Bye Week",p1Score:0,p2Score:0,type:"Consolation"});for(let te=4;te<x.length;te+=2)te+1<x.length?Y.push({p1:x[te].userId,p2:x[te+1].userId,p1Name:x[te].name,p2Name:x[te+1].name,p1Score:0,p2Score:0,type:"Exhibition"}):Y.push({p1:x[te].userId,p2:"BYE",p1Name:x[te].name,p2Name:"Bye Week",p1Score:0,p2Score:0,type:"Exhibition"});return Y},yn=async()=>{const x=Nn();await jn(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{status:"ready",schedule:x,month:4,matchups:x[4]})},Tt=async()=>{await Bn();const x={};b.forEach(Y=>x[Y.id]=Xt[Y.id]?.c||0),await jn(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{status:"active",startingPrices:x})},_a=async()=>{await Bn();const x=d.startingPrices||{},Y=d.matchups.map(ie=>{const me=y.find(Oe=>Oe.userId===ie.p1),_e=y.find(Oe=>Oe.userId===ie.p2);return{...ie,p1Score:parseFloat(Xi(me?.roster,me?.cash,x,me?.startValue).toFixed(2)),p2Score:ie.p2==="BYE"?0:parseFloat(Xi(_e?.roster,_e?.cash,x,_e?.startValue).toFixed(2))}}),te=Q0(Ke),se={...d.schedule,[d.month]:Y};te.update(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{status:"completed",matchups:Y,schedule:se}),Y.forEach(ie=>{const me=y.find(_e=>_e.userId===ie.p1);if(me&&te.update(ft(Ke,"artifacts",We,"public","data","league_players",me.id),{wins:me.wins+(ie.p1Score>ie.p2Score?1:0),losses:me.losses+(ie.p1Score<ie.p2Score?1:0),points:me.points+ie.p1Score}),ie.p2!=="BYE"){const _e=y.find(Oe=>Oe.userId===ie.p2);_e&&te.update(ft(Ke,"artifacts",We,"public","data","league_players",_e.id),{wins:_e.wins+(ie.p2Score>ie.p1Score?1:0),losses:_e.losses+(ie.p2Score<ie.p1Score?1:0),points:_e.points+ie.p2Score})}}),await te.commit()},Is=async()=>{const x=(d.month||4)+1;if(x>12)return alert("Season Completed!");let Y=x===12?Gt():d.schedule?.[x]||[];await jn(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{month:x,status:"ready",matchups:Y,startingPrices:{}})};if(!s)return S.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:S.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 p-8 rounded-2xl",children:[S.jsx("div",{className:"flex justify-center mb-6",children:S.jsx("img",{src:hm,alt:"Logo",className:"w-16 h-16 object-contain rounded-lg",onError:x=>{x.target.onerror=null,x.target.src="https://placehold.co/100x100/10b981/ffffff?text=5Star"}})}),S.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-6",children:"FiveStar Login"}),S.jsxs("form",{onSubmit:Ir,className:"space-y-4",children:[w&&S.jsx("input",{value:Ne,onChange:x=>N(x.target.value),className:"w-full bg-slate-800 border-slate-700 text-white px-4 py-3 rounded-xl",placeholder:"Player Name",required:!0}),S.jsx("input",{type:"email",value:k,onChange:x=>M(x.target.value),className:"w-full bg-slate-800 border-slate-700 text-white px-4 py-3 rounded-xl",placeholder:"Email",required:!0}),S.jsx("input",{type:"password",value:L,onChange:x=>R(x.target.value),className:"w-full bg-slate-800 border-slate-700 text-white px-4 py-3 rounded-xl",placeholder:"Password",required:!0}),S.jsx("button",{className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-xl",children:F?"...":w?"Sign Up":"Login"}),S.jsx("button",{type:"button",onClick:()=>C(!w),className:"w-full text-slate-400 text-sm",children:w?"Have account? Login":"No account? Sign Up"})]})]})});if(!rt)return S.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:S.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 p-8 rounded-2xl",children:[S.jsx("div",{className:"flex justify-center mb-6",children:S.jsx("img",{src:hm,alt:"Logo",className:"w-16 h-16 object-contain rounded-lg",onError:x=>{x.target.onerror=null,x.target.src="https://placehold.co/100x100/10b981/ffffff?text=5Star"}})}),S.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-6",children:"Create Profile"}),S.jsxs("form",{onSubmit:Ei,className:"space-y-4",children:[S.jsx("input",{value:Ne,onChange:x=>N(x.target.value),className:"w-full bg-slate-800 border-slate-700 text-white px-4 py-3 rounded-xl",placeholder:"Enter Your Player Name",required:!0}),S.jsx("button",{className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-xl",children:F?"Creating Profile...":"Start Playing"})]})]})});const va=()=>S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[i.map(x=>S.jsx("button",{onClick:()=>c(x),className:`flex-shrink-0 px-4 py-2 rounded-lg border text-sm font-bold whitespace-nowrap transition-colors ${l?.leagueId===x.leagueId?"bg-emerald-500/20 border-emerald-500 text-emerald-400":"bg-slate-800 border-slate-700 text-slate-400"}`,children:x.leagueName||`League ${x.leagueId.substring(0,4)}`},x.leagueId)),S.jsx("button",{onClick:()=>pe(!0),className:"flex-shrink-0 px-3 py-2 rounded-lg bg-emerald-600 text-white font-bold text-sm",children:S.jsx(MS,{})})]}),l?S.jsx(S.Fragment,{children:S.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[S.jsxs("div",{className:"p-4 bg-slate-900/50 border-b border-slate-700 flex justify-between items-center",children:[S.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[S.jsx(dv,{size:18})," ",d?.name," Standings"]}),S.jsxs("span",{className:"text-xs text-slate-500",children:[y.length," Players"]})]}),S.jsx("div",{className:"divide-y divide-slate-700",children:[...y].filter(x=>x.isPlayer).sort((x,Y)=>Y.wins-x.wins||Y.points-x.points).map((x,Y)=>S.jsxs("div",{className:"p-4 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-slate-300",children:Y+1}),S.jsx(Kc,{url:x.avatar,name:x.name,size:"md",onClick:()=>tt({url:x.avatar,name:x.name})}),S.jsxs("div",{children:[S.jsxs("div",{className:"font-bold text-white",children:[x.name||"Unknown"," ",x.isAdmin&&"(Commish)"]}),S.jsxs("div",{className:"text-xs text-slate-500",children:[x.wins||0,"W - ",x.losses||0,"L"]})]})]}),S.jsxs("div",{className:"text-emerald-400 font-mono font-bold",children:[(x.points||0).toFixed(1)," Pts"]})]},x.userId))})]})}):S.jsxs("div",{className:"text-center text-slate-500 mt-20",children:[S.jsx("p",{children:"You are not in any leagues."}),S.jsx("button",{onClick:()=>pe(!0),className:"mt-4 text-emerald-400 font-bold underline",children:"Join or Create one"})]}),ne&&S.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-2xl w-full max-w-md space-y-6",children:[S.jsx("h2",{className:"text-xl font-bold text-white",children:"Start Playing"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase",children:"Create New League"}),S.jsx("input",{value:ue,onChange:x=>Se(x.target.value),className:"w-full bg-slate-800 border-slate-700 text-white px-4 py-2 rounded-lg",placeholder:"League Name"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"checkbox",checked:Re,onChange:x=>Ue(x.target.checked),className:"accent-emerald-500"}),S.jsx("label",{className:"text-slate-400 text-sm",children:"Commissioner Plays?"})]}),S.jsx("button",{onClick:Cr,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded-lg",children:"Create"})]}),S.jsx("div",{className:"h-px bg-slate-800"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase",children:"Join Existing"}),S.jsx("input",{value:K,onChange:x=>ae(x.target.value),className:"w-full bg-slate-800 border-slate-700 text-white px-4 py-2 rounded-lg",placeholder:"League ID"}),S.jsx("button",{onClick:At,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded-lg",children:"Join"})]}),S.jsx("button",{onClick:()=>pe(!1),className:"w-full text-slate-500 py-2",children:"Cancel"})]})})]}),qn=()=>S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"flex gap-2 sticky top-0 bg-slate-950 z-10 py-2",children:S.jsxs("div",{className:"relative flex-1",children:[S.jsx(cv,{className:"absolute left-3 top-2.5 text-slate-500",size:16}),S.jsx("input",{className:"w-full bg-slate-900 border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-sm text-white",placeholder:"Search...",value:_i,onChange:x=>Rs(x.target.value)})]})}),b.filter(x=>x.id.includes(_i.toUpperCase())).map(x=>{const Y=Xt[x.id],te=Y?.c||0,se=d?.startingPrices?.[x.id]||Y?.monthOpen||te,ie=te&&se?(te-se)/se*100:0,me=d?.activeStockIds?.includes(x.id),_e=l?.roster?.find(Oe=>Oe.id===x.id);return!l?.isAdmin&&!me?null:S.jsxs(Qc,{className:`p-4 ${l?.isAdmin&&!me?"opacity-50":""}`,children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-white",children:x.id}),S.jsx("div",{className:"text-xs text-slate-400",children:x.name}),S.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1",children:["Base: $",se.toFixed(2),l?.isAdmin&&S.jsx("button",{onClick:()=>ga(x.id),className:"text-slate-400 hover:text-white",children:S.jsx(DS,{size:10})})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"font-mono text-white font-bold",children:["$",te.toFixed(2)]}),S.jsxs("div",{className:`text-xs font-bold ${ie>=0?"text-emerald-400":"text-rose-400"}`,children:[ie>0?"+":"",ie.toFixed(2),"% MTD"]})]})]}),S.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700/50 flex justify-between items-center",children:[S.jsx("span",{className:"text-[10px] uppercase text-slate-500 font-bold",children:x.sector}),l?.isPlayer&&d?.status?.includes("ready")&&me&&(_e?S.jsxs("span",{className:"text-emerald-500 text-xs font-bold flex items-center gap-1",children:[S.jsx(vS,{size:12})," Owned"]}):S.jsx("button",{onClick:()=>Nr(x.id),className:"bg-emerald-600 text-white px-3 py-1 rounded text-xs font-bold",children:"Add"})),l?.isAdmin&&S.jsx("button",{onClick:()=>ya(x.id),className:`text-[10px] px-2 py-1 rounded font-bold ${me?"bg-red-500/20 text-red-400":"bg-emerald-500/20 text-emerald-400"}`,children:me?"Ban Stock":"Allow Stock"})]})]},x.id)})]}),$i=()=>{if(!l?.isPlayer)return S.jsx("div",{className:"text-center text-slate-500 mt-20",children:"Commissioners who do not play do not have a team."});const x=l.roster||[],Y=l.cash||0;let te=Y;return x.forEach(se=>{const ie=Xt[se.id]?.c||0;te+=(se.shares||0)*ie}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-gradient-to-r from-emerald-900 to-slate-900 p-6 rounded-2xl border border-emerald-500/30",children:[S.jsx("div",{className:"flex justify-between items-end mb-4",children:S.jsxs("div",{children:[S.jsx("h2",{className:"text-slate-400 text-sm font-bold uppercase",children:"Portfolio Value"}),S.jsxs("div",{className:"text-4xl font-bold font-mono text-white",children:["$",te.toLocaleString()]})]})}),S.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 flex items-center justify-between",children:[S.jsx("span",{className:"text-slate-400 text-sm font-bold",children:"Cash on Hand"}),["ready","active"].includes(d?.status)?S.jsxs("div",{className:"flex items-center gap-1 text-white font-mono",children:["$",S.jsx("input",{type:"number",value:Y,onChange:se=>Ti(se.target.value),className:"bg-transparent border-b border-emerald-500 w-24 text-right focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}):S.jsxs("span",{className:"text-white font-mono font-bold",children:["$",Y]})]})]}),x.map(se=>{const ie=b.find(Oe=>Oe.id===se.id),me=Xt[se.id]?.c||0,_e=(se.shares||0)*me;return S.jsxs(Qc,{className:"p-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:se.id}),S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-white",children:ie?.name||se.id}),S.jsxs("div",{className:"text-xs text-slate-400",children:["Value: ",S.jsxs("span",{className:"text-emerald-400 font-bold",children:["$",_e.toFixed(2)]})]})]})]}),["ready","active"].includes(d?.status)&&S.jsx("button",{onClick:()=>Mo(se.id),className:"text-rose-500 bg-slate-900 p-2 rounded",children:S.jsx(NS,{size:16})})]}),["ready","active"].includes(d?.status)?S.jsxs("div",{className:"flex items-center justify-between bg-slate-900 rounded p-2",children:[S.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase",children:"Shares"}),S.jsx("input",{type:"number",value:se.shares,onChange:Oe=>xr(se.id,Oe.target.value),className:"bg-transparent text-right font-mono text-white w-24 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"})]}):S.jsxs("div",{className:"flex justify-between text-xs text-slate-500 uppercase font-bold text-center bg-slate-900 py-1 px-2 rounded",children:[S.jsx("span",{children:"Shares Locked"}),S.jsx("span",{children:se.shares})]})]},se.id)})]})},bt=()=>{if(W){const x=y.find(ie=>ie.userId===W.p1),Y=y.find(ie=>ie.userId===W.p2),te=d.startingPrices||{},se=ie=>ie?S.jsxs("div",{className:"space-y-2",children:[(ie.roster||[]).map(me=>{const _e=Xt[me.id]?.c||0,Oe=te[me.id]||1,Qt=(_e-Oe)/Oe*100;return S.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-900/50 p-2 rounded border border-slate-700/50",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"font-bold text-slate-300",children:[me.id," ",S.jsxs("span",{className:"text-slate-500",children:["x",me.shares]})]}),S.jsxs("div",{className:"text-[10px] text-slate-500",children:["$",Oe.toFixed(2),"  $",_e.toFixed(2)]})]}),S.jsxs("div",{className:`font-mono font-bold ${Qt>=0?"text-emerald-400":"text-rose-400"}`,children:[Qt>0?"+":"",Qt.toFixed(2),"%"]})]},me.id)}),S.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-900/30 p-2 rounded mt-2",children:[S.jsx("span",{className:"text-slate-500",children:"Cash"}),S.jsxs("span",{className:"font-mono text-slate-300",children:["$",(ie.cash||0).toLocaleString()]})]})]}):S.jsx("div",{className:"text-slate-500 italic text-xs text-center py-2",children:"No Data"});return S.jsxs("div",{className:"space-y-4",children:[S.jsxs("button",{onClick:()=>oe(null),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-4 transition-colors",children:[S.jsx(yS,{size:20})," Back to Matchups"]}),S.jsxs(Qc,{className:"p-6",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Matchup Detail"}),S.jsx("h2",{className:"text-2xl font-bold text-white",children:W.type||"Regular Season"}),S.jsxs("div",{className:"text-slate-500 text-sm",children:["Month ",d?.month]})]}),S.jsxs("div",{className:"flex justify-between items-center mb-8 relative",children:[S.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-slate-700/50 -translate-x-1/2"}),S.jsxs("div",{className:"text-center w-5/12 z-10",children:[S.jsx(Kc,{name:W.p1Name,size:"lg",className:"mx-auto mb-3"}),S.jsx("div",{className:"text-xl font-bold text-white mb-1",children:W.p1Name}),S.jsxs("div",{className:`text-4xl font-mono font-bold ${W.p1Score>=0?"text-emerald-400":"text-rose-400"}`,children:[W.p1Score,"%"]})]}),S.jsx("div",{className:"text-center w-2/12 z-10",children:S.jsx("div",{className:"bg-slate-900 rounded-full w-10 h-10 flex items-center justify-center mx-auto border-2 border-slate-700 text-slate-400 font-bold text-xs",children:"VS"})}),S.jsxs("div",{className:"text-center w-5/12 z-10",children:[S.jsx(Kc,{name:W.p2Name,size:"lg",className:"mx-auto mb-3"}),S.jsx("div",{className:"text-xl font-bold text-white mb-1",children:W.p2Name}),W.p2!=="BYE"?S.jsxs("div",{className:`text-4xl font-mono font-bold ${W.p2Score>=0?"text-emerald-400":"text-rose-400"}`,children:[W.p2Score,"%"]}):S.jsx("div",{className:"text-slate-500 font-mono italic",children:"--"})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-slate-700/50 pt-6",children:[S.jsxs("div",{children:[S.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3 text-center",children:[x?x.name:W.p1Name,"'s Portfolio"]}),x?se(x):S.jsx("div",{className:"text-center text-slate-500 text-xs",children:"Loading data..."})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3 text-center",children:W.p2==="BYE"?"BYE WEEK":(Y?Y.name:W.p2Name)+"'s Portfolio"}),W.p2!=="BYE"&&(Y?se(Y):S.jsx("div",{className:"text-center text-slate-500 text-xs",children:"Loading data..."}))]})]})]})]})}return S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h2",{className:"text-lg font-bold text-white mb-4",children:["Month ",d?.month," Head-to-Head"]}),!d?.matchups?.length&&S.jsx("div",{className:"text-slate-500",children:"No matchups generated yet."}),d?.matchups?.map((x,Y)=>{let te=x.p1Score,se=x.p2Score;if(d.status==="active"){const ie=y.find(Oe=>Oe.userId===x.p1),me=y.find(Oe=>Oe.userId===x.p2),_e=d.startingPrices||{};te=parseFloat(Xi(ie?.roster,ie?.cash,_e,ie?.startValue).toFixed(2)),se=x.p2==="BYE"?0:parseFloat(Xi(me?.roster,me?.cash,_e,me?.startValue).toFixed(2))}return S.jsx(Qc,{className:"p-4 cursor-pointer hover:bg-slate-700/50 transition-colors",onClick:()=>oe({...x,p1Score:te,p2Score:se}),children:S.jsxs("div",{className:"flex justify-between items-center text-sm",children:[S.jsxs("div",{className:"text-center w-1/3",children:[S.jsx("div",{className:"font-bold text-slate-200",children:x.p1Name}),S.jsxs("div",{className:`font-mono font-bold ${te>=0?"text-emerald-400":"text-rose-400"}`,children:[te,"%"]})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-slate-600 font-bold text-xs",children:"VS"}),x.type&&S.jsx("div",{className:"text-[10px] text-amber-500 font-bold uppercase mt-1",children:x.type})]}),S.jsxs("div",{className:"text-center w-1/3",children:[S.jsx("div",{className:"font-bold text-slate-200",children:x.p2Name}),S.jsxs("div",{className:`font-mono font-bold ${se>=0?"text-emerald-400":"text-rose-400"}`,children:[se,"%"]})]})]})},Y)})]})},Hn=()=>S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-800 border-t-4 border-emerald-500 rounded-xl p-4",children:[S.jsxs("h3",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[S.jsx(hv,{size:18})," League Info"]}),S.jsxs("div",{className:"p-3 bg-slate-900 rounded mb-4 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] uppercase text-slate-500 font-bold",children:"Invite Code"}),S.jsx("div",{className:"text-xl font-mono text-white tracking-widest",children:l?.leagueId})]}),S.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l.leagueId),alert("Copied")},children:S.jsx(TS,{className:"text-slate-400"})})]}),S.jsx("input",{value:vi,onChange:x=>Ki(x.target.value),className:"w-full bg-slate-900 border-slate-700 text-white px-3 py-2 rounded mb-2"}),S.jsx("button",{onClick:()=>jn(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{name:vi}),className:"bg-emerald-600 text-white font-bold w-full py-2 rounded",children:"Save Name"})]}),S.jsxs("div",{className:"bg-slate-800 border-t-4 border-cyan-500 rounded-xl p-4",children:[S.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[S.jsx(wS,{size:18})," Player Starting Values (Month Start)"]}),S.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:y.filter(x=>x.isPlayer).map(x=>S.jsxs("div",{className:"flex items-center justify-between bg-slate-900 p-2 rounded",children:[S.jsx("div",{className:"text-sm font-bold text-white",children:x.name}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-slate-500",children:"$"}),S.jsx("input",{type:"number",defaultValue:x.startValue,onBlur:Y=>jn(ft(Ke,"artifacts",We,"public","data","league_players",x.id),{startValue:parseFloat(Y.target.value)}),className:"w-24 bg-slate-800 border border-slate-700 text-white px-2 py-1 rounded text-right text-sm",placeholder:"Start Value"})]})]},x.id))}),S.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Enter the total portfolio value for each player at the beginning of the month. This is used to calculate the % return."})]}),S.jsxs("div",{className:"bg-slate-800 border-t-4 border-purple-500 rounded-xl p-4",children:[S.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[S.jsx(dS,{size:18})," Season Schedule"]}),S.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-4",children:[[4,5,6,7,8,9,10,11].map(x=>{const Y=d?.schedule?.[x];return Y?S.jsxs("div",{children:[S.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:["Month ",x]}),S.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-300",children:Y.map((te,se)=>S.jsxs("div",{className:"bg-slate-900 p-2 rounded",children:[te.p1Name," vs ",te.p2Name]},se))})]},x):null}),S.jsxs("div",{className:"pt-2 border-t border-slate-700",children:[S.jsx("div",{className:"text-xs font-bold text-amber-500 uppercase mb-1",children:"Month 12 (Playoffs)"}),S.jsx("div",{className:"text-xs text-slate-400",children:"Matchups are determined by standings at end of month 11."})]})]})]}),S.jsxs("div",{className:"bg-slate-800 border-t-4 border-blue-500 rounded-xl p-4",children:[S.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[S.jsx(cv,{size:18})," Manage Stock Pool"]}),S.jsxs("div",{className:"flex gap-2 mb-4",children:[S.jsx("input",{placeholder:"Add Ticker (e.g. KO)",value:mt,onChange:x=>ct(x.target.value),className:"flex-1 bg-slate-900 border-slate-700 text-white px-3 py-2 rounded uppercase"}),S.jsx("button",{onClick:en,disabled:F,className:"bg-blue-600 text-white font-bold px-4 rounded",children:F?"...":"Add"})]}),S.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:b.map(x=>{const Y=d?.activeStockIds?.includes(x.id);return S.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-2 rounded",children:[S.jsx("div",{className:"text-sm font-bold text-white",children:x.id}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>{const te=Y?d.activeStockIds.filter(se=>se!==x.id):[...d.activeStockIds,x.id];jn(ft(Ke,"artifacts",We,"public","data","leagues",l.leagueId),{activeStockIds:te})},className:`text-[10px] px-2 py-1 rounded font-bold ${Y?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"}`,children:Y?"Allowed":"Banned"}),S.jsx("button",{onClick:()=>Yi(x.id),className:"text-slate-600 hover:text-rose-500",children:S.jsx(fv,{size:14})})]})]},x.id)})})]}),S.jsxs("div",{className:"bg-slate-800 border-t-4 border-amber-500 rounded-xl p-4 grid gap-3",children:[S.jsxs("h3",{className:"font-bold text-amber-500",children:[S.jsx(SS,{size:18,className:"inline mr-2"})," Controls"]}),d?.status==="drafting"&&S.jsx("button",{onClick:yn,className:"bg-emerald-600 text-white font-bold py-3 rounded",children:"Start League (Gen Schedule)"}),d?.status?.includes("ready")&&S.jsxs("button",{onClick:Tt,className:"bg-emerald-600 text-white font-bold py-3 rounded",children:["Start Month ",d.month]}),d?.status==="active"&&S.jsx("button",{onClick:_a,className:"bg-emerald-600 text-white font-bold py-3 rounded",children:"End Month"}),d?.status==="completed"&&S.jsx("button",{onClick:Is,className:"bg-slate-600 text-white font-bold py-3 rounded",children:"Next Month"})]}),S.jsxs("div",{className:"bg-slate-800 border-t-4 border-rose-500 rounded-xl p-4",children:[S.jsxs("h3",{className:"font-bold text-rose-500 mb-4 flex items-center gap-2",children:[S.jsx(fv,{size:18})," Danger Zone"]}),S.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Deleting a league cannot be undone. All data will be lost."}),S.jsx("button",{onClick:pa,disabled:F,className:"w-full bg-rose-600 hover:bg-rose-700 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2",children:F?"Deleting...":"Delete League"})]})]});return S.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-200 pb-24 relative",children:[S.jsxs("header",{className:"sticky top-0 z-20 bg-slate-950/80 backdrop-blur-md border-b border-slate-800 px-4 py-3 flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("img",{src:hm,alt:"Logo",className:"w-8 h-8 object-contain rounded bg-slate-900",onError:x=>{x.target.onerror=null,x.target.src="https://placehold.co/100x100/10b981/ffffff?text=5Star"}}),S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-white leading-none",children:d?.name||"FiveStar"}),S.jsxs("div",{className:"text-xs text-slate-500",children:[l?.name||"Loading..."," ",l?.isAdmin&&"(Admin)"]})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[l&&S.jsx("button",{onClick:()=>{Le(l?.name||""),V(""),ve(!0)},className:"text-slate-500 hover:text-white p-2",children:S.jsx(FS,{size:20})}),S.jsx("button",{onClick:()=>{k2(Gc),r([]),c(null)},className:"text-slate-500 hover:text-white p-2",children:S.jsx(IS,{size:20})})]})]}),Qe&&S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4",onClick:()=>tt(null),children:S.jsxs("div",{className:"relative max-w-sm w-full text-center",onClick:x=>x.stopPropagation(),children:[S.jsx("button",{onClick:()=>tt(null),className:"absolute -top-10 right-0 text-slate-400 hover:text-white",children:S.jsx(KS,{size:24})}),S.jsx("img",{src:Qe.url,alt:Qe.name,className:"w-full aspect-square rounded-2xl object-cover shadow-2xl border-2 border-emerald-500 mb-4"}),S.jsx("div",{className:"text-2xl font-bold text-white",children:Qe.name})]})}),we&&S.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-xl w-full max-w-sm",children:[S.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"Edit Profile"}),S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx(Kc,{url:Ye||l.avatar,name:de,size:"lg"})}),S.jsx("label",{className:"block text-xs uppercase text-slate-500 font-bold mb-1",children:"Display Name"}),S.jsx("input",{value:de,onChange:x=>Le(x.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white px-3 py-2 rounded-lg mb-4",placeholder:"Display Name"}),S.jsx("label",{className:"block text-xs uppercase text-slate-500 font-bold mb-1",children:"Profile Picture"}),S.jsx("div",{className:"flex items-center gap-2 mb-6",children:S.jsxs("label",{className:"flex-1 bg-slate-800 border border-slate-700 text-slate-300 px-3 py-2 rounded-lg cursor-pointer flex items-center justify-center gap-2 hover:bg-slate-700",children:[S.jsx(qS,{size:16})," Upload Image",S.jsx("input",{type:"file",accept:"image/*",onChange:Ct,className:"hidden"})]})}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:Oo,className:"flex-1 bg-emerald-600 text-white font-bold py-2 rounded-lg",children:"Save"}),S.jsx("button",{onClick:()=>ve(!1),className:"flex-1 bg-slate-800 text-slate-400 font-bold py-2 rounded-lg",children:"Cancel"})]})]})}),S.jsxs("main",{className:"p-4 max-w-2xl mx-auto",children:[D==="dashboard"&&va(),l&&D==="market"&&qn(),l&&D==="team"&&$i(),l&&D==="matchups"&&bt(),l?.isAdmin&&D==="admin"&&Hn()]}),S.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-800 pb-safe pt-2 px-6",children:S.jsxs("div",{className:"flex justify-between items-center max-w-lg mx-auto h-16",children:[S.jsxs("button",{onClick:()=>G("dashboard"),className:`flex flex-col items-center gap-1 ${D==="dashboard"?"text-emerald-400":"text-slate-600"}`,children:[S.jsx(zS,{size:24}),S.jsx("span",{className:"text-[10px] font-medium",children:"League"})]}),S.jsxs("button",{onClick:()=>G("team"),className:`flex flex-col items-center gap-1 ${D==="team"?"text-emerald-400":"text-slate-600"}`,disabled:!l,children:[S.jsx(dv,{size:24}),S.jsx("span",{className:"text-[10px] font-medium",children:"Team"})]}),S.jsxs("button",{onClick:()=>{G("matchups"),oe(null)},className:`flex flex-col items-center gap-1 ${D==="matchups"?"text-emerald-400":"text-slate-600"}`,disabled:!l,children:[S.jsx(LS,{size:24}),S.jsx("span",{className:"text-[10px] font-medium",children:"Matchups"})]}),S.jsxs("button",{onClick:()=>G("market"),className:`flex flex-col items-center gap-1 ${D==="market"?"text-emerald-400":"text-slate-600"}`,disabled:!l,children:[S.jsx(pS,{size:24}),S.jsx("span",{className:"text-[10px] font-medium",children:"Market"})]}),l?.isAdmin&&S.jsxs("button",{onClick:()=>G("admin"),className:`flex flex-col items-center gap-1 ${D==="admin"?"text-emerald-400":"text-slate-600"}`,children:[S.jsx(hv,{size:24}),S.jsx("span",{className:"text-[10px] font-medium",children:"Admin"})]})]})})]})}aS.createRoot(document.getElementById("root")).render(S.jsx(Pe.StrictMode,{children:S.jsx(sx,{})}));
